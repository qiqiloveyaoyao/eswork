# 实验2 索引&文档操作

班级：软工2203 指导老师： 丁玺润

学号：2200770114

姓名：焦买涛
***
实验内容：
1. Elasticsearch 安装IK分词器
2. Elasticsearch 索引操作训练
3. Elasticsearch 文档操作训练
4. Elasticsearch 高级查询与DSL训练

实验目标：

1. 掌握Elasticsearch 安装IK分词器安装方法
2. 掌握Elasticsearch 索引操作方法
3. 掌握Elasticsearch 文档操作训练
4. Elasticsearch 高级查询与DSL训练

作业内容：

1. 完成任务一
2. 完成任务二
3. 完成任务三


## 实验具体内容
### 前置任务 
1.Elasticsearch 安装IK分词器

这里有俩种安装方式，一种是本地下载包植入安装，另一种是通过指令远程URL安装，在这里我选择本地下载包安装。

词器的包资源 [ik分词器](elasticsearch-analysis-ik-8.12.2.zip)

下载好之后解压到elasticsearch-8.12.2\plugins路径下
![img_x1.png](pictures/img_1.png)

然后重启观察Elasticsearch 会显示加载了刚才解压的插件

也可以通过ES的bin下的elasticsearch-plugin.bat查看安装的插件
```elasticsearch-plugin list```

显示以下即可安装成功
![img.png](pictures/img.png)

### 任务1 索引操作练习
要求：能够根据字段描述，创建索引，修改索引，删除索引

任务一：
1. 创建索引
2. 修改索引(自己设计，修改要合理）
3. 删除索引
4. 查看所有


1，启动Elasticsearch和Kibana

![imgx3.png](pictures/imgx3.png)

2,浏览器输 ```http://localhost:5601```

在左侧栏找到dev tools
![img44.png](pictures/img44.png)

进入到环境中
![img_x1.png](pictures/img_x1.png)

2，接下来正式开始我们的任务实验。


需要建立的内容如下：

用户信息 (User Information) 索引
1. user_id:
   ○ 类型: keyword
   ○ 描述: 用户的唯一标识符，通常是一个不变的字符串。用于快速查找和过滤用户。
2. name:
   ○ 类型: text
   ○ 描述: 用户的姓名。使用标准分析器处理以支持全文搜索。
3. email:
   ○ 类型: keyword
   ○ 描述: 用户的电子邮件地址。作为关键词存储以确保精确匹配，便于查找。
4. date_of_birth:
   ○ 类型: date
   ○ 描述: 用户的出生日期，格式为日期类型，便于进行年龄计算和范围查询。
5. gender:
   ○ 类型: keyword
   ○ 描述: 用户的性别信息，通常为固定值（如“male”、“female”），用于过滤和统计分析。
6. address:
   ○ 类型: text
   ○ 描述: 用户的居住地址。支持全文搜索以便于地址相关查询。
7. phone_number:
   ○ 类型: keyword
   ○ 描述: 用户的电话号码，作为关键词存储以确保精确匹配。
8. registration_date:
   ○ 类型: date
   ○ 描述: 用户注册账户的日期，用于时间序列分析和统计。
9. last_login:
   ○ 类型: date
   ○ 描述: 用户最后一次登录的日期和时间，便于跟踪用户活动。
10. status:
    ○ 类型: keyword
    ○ 描述: 用户账户的当前状态（如“active”、“inactive”），用于筛选和状态管理。


产品目录 (Product Catalog) 索引
1. product_id:
   ○ 类型: keyword
   ○ 描述: 产品的唯一标识符，通常是一个不变的字符串。用于快速查找和过滤特定产品。
2. name:
   ○ 类型: text
   ○ 描述: 产品的名称。使用标准分析器处理以支持全文搜索和匹配。
3. description:
   ○ 类型: text
   ○ 描述: 产品的详细描述。支持全文搜索，使用户能够通过关键词查找产品。
4. category:
   ○ 类型: keyword
   ○ 描述: 产品所属的类别，用于分类和过滤产品。
5. price:
   ○ 类型: double
   ○ 描述: 产品的价格，以浮点数表示，便于进行价格范围查询和排序。
6. stock_quantity:
   ○ 类型: integer
   ○ 描述: 产品的库存数量，以整数表示，用于库存管理和查询。
7. supplier:
   ○ 类型: keyword
   ○ 描述: 产品的供应商信息，通常是供应商的名称或ID，用于追踪和管理供应链。
8. release_date:
   ○ 类型: date
   ○ 描述: 产品的发布日期，便于进行时间序列分析和新产品的筛选。
9. tags:
   ○ 类型: keyword
   ○ 描述: 与产品相关的标签，用于搜索和过滤产品。
10. rating:
    ○ 类型: float
    ○ 描述: 产品的平均评分，以浮点数表示，用于排序和筛选高评分产品。


订单记录 (Order Records) 索引字段描述
1. order_id:
   ○ 类型: keyword
   ○ 描述: 订单的唯一标识符，用于快速查找和管理订单。
2. customer_id:
   ○ 类型: keyword
   ○ 描述: 客户的唯一标识符，关联到用户信息，便于查询特定客户的订单记录。
3. order_date:
   ○ 类型: date
   ○ 描述: 订单创建的日期和时间，用于时间序列分析和订单管理。
4. status:
   ○ 类型: keyword
   ○ 描述: 订单的当前状态（如“pending”、“shipped”、“completed”），用于筛选和管理订单。
5. total_amount:
   ○ 类型: double
   ○ 描述: 订单的总金额，以浮点数表示，用于财务分析和报告。
6. items:
   ○ 类型: nested
   ○ 描述: 订单中包含的商品列表，每个商品包含以下字段：
   ■ product_id: keyword - 商品的唯一标识符。
   ■ quantity: integer - 购买的商品数量。
   ■ price: double - 商品的单价。
7. shipping_address:
   ○ 类型: text
   ○ 描述: 订单的送货地址，支持全文搜索以便于地址相关查询。
8. payment_method:
   ○ 类型: keyword
   ○ 描述: 使用的支付方式（如“credit card”、“paypal”），用于支付方式分析和报告。
9. shipping_date:
   ○ 类型: date
   ○ 描述: 订单发货的日期，便于物流跟踪和管理。
10. delivery_date:
    ○ 类型: date
    ○ 描述: 订单预计或实际送达的日期，用于客户服务和物流优化。


以上为粘贴内容，乱码正常

接下来设计索引

1，这里直接给出json类型的索引

用户信息
```json
PUT /users
{
  "mappings": {
    "properties": {
      "user_id": {
        "type": "keyword"
      },
      "name": {
        "type": "text",
        "analyzer": "standard"
      },
      "email": {
        "type": "keyword"
      },
      "date_of_birth": {
        "type": "date",
        "format": "yyyy-MM-dd"
      },
      "gender": {
        "type": "keyword"
      },
      "address": {
        "type": "text",
        "analyzer": "standard"
      },
      "phone_number": {
        "type": "keyword"
      },
      "registration_date": {
        "type": "date",
        "format": "yyyy-MM-dd"
      },
      "last_login": {
        "type": "date",
        "format": "yyyy-MM-dd HH:mm:ss"
      },
      "status": {
        "type": "keyword"
      }
    }
  }
}
```

产品
```json
PUT /products
{
  "mappings": {
    "properties": {
      "product_id": {
        "type": "keyword"
      },
      "name": {
        "type": "text",
        "analyzer": "standard"
      },
      "description": {
        "type": "text",
        "analyzer": "standard"
      },
      "category": {
        "type": "keyword"
      },
      "price": {
        "type": "double"
      },
      "stock_quantity": {
        "type": "integer"
      },
      "supplier": {
        "type": "keyword"
      },
      "release_date": {
        "type": "date",
        "format": "yyyy-MM-dd"
      },
      "tags": {
        "type": "keyword"
      },
      "rating": {
        "type": "float"
      }
    }
  }
}
```

订单记录
```json
PUT /orders
{
  "mappings": {
    "properties": {
      "order_id": {
        "type": "keyword"
      },
      "customer_id": {
        "type": "keyword"
      },
      "order_date": {
        "type": "date",
        "format": "yyyy-MM-dd HH:mm:ss"
      },
      "status": {
        "type": "keyword"
      },
      "total_amount": {
        "type": "double"
      },
      "items": {
        "type": "nested",
        "properties": {
          "product_id": {
            "type": "keyword"
          },
          "quantity": {
            "type": "integer"
          },
          "price": {
            "type": "double"
          }
        }
      },
      "shipping_address": {
        "type": "text",
        "analyzer": "standard"
      },
      "payment_method": {
        "type": "keyword"
      },
      "shipping_date": {
        "type": "date",
        "format": "yyyy-MM-dd"
      },
      "delivery_date": {
        "type": "date",
        "format": "yyyy-MM-dd"
      }
    }
  }
}

```
分别进行运行
![img_2.png](pictures/img_2.png)

都是这样的结果

2，进行索引的删除

```
DELETE /index_name
```

使用以下进行展示
```
DELETE /orders
```

![img_3.png](pictures/img_3.png)

成功实现

最后查看所有
```
GET /_cat/indices
```

![img_4.png](pictures/img_4.png)

当然，我们有更好的查看集成工具，这是一个好用的小浏览器插件
[es-head](es-head.zip)

将其植入到谷歌浏览器即可进行连接得到以下内容
![img_5.png](pictures/img_5.png)

也可以进行查询等多门操作



任务1到此结束



### 任务2 文档操作练习


环境选择：使用apifox进行实现

apifox还可以边运行编修改，非常方便

1. 创建文档

1，先打开apfox，创建目录
![img_6.png](pictures/img_6.png)

随后点击加号建立接口
![img_7.png](pictures/img_7.png)

然后我们进行开发环境的修改
![img_9.png](pictures/img_9.png)

保证其URL指向正确
![img_10.png](pictures/img_10.png)

接下来我们的接口就可以不用输入端口，直接输入索引名即可
我们选择put，之后输入索引名/users,
保存之后点击修改文档，然后点击body，选择json模式（保证参数与设计的索引相同）
apifox支撑直接识别json直接设计文档

![img_11.png](pictures/img_11.png)

![img_12.png](pictures/img_12.png)

OK，点击确定可见已经设计好了，再点击保存即可

![img_x13.png](pictures/img_x13.png)

就这样分别实现三个索引的文档
![img_14.png](pictures/img_14.png)

然后我们进行get验证，新建get接口发送请求

![img_15.png](pictures/img_15.png)

显然成功，这样的空请求把三个都建立好文档

![img_16.png](pictures/img_16.png)





2. 修改文档(自己设计，修改要合理）

现在出现一个问题，我们的文档有一些数据格式可能不符合预期情况，需要我们仔细查看
例如需要插入数据```
{
"user_id": "001",
"name": "Alice Johnson",
"email": "alice.johnson@example.com",
"date_of_birth": "1990-05-15",
"gender": "female",
"address": "123 Main St, Anytown, USA",
"phone_number": "123-456-7890",
"registration_date": "2023-01-15",
"last_login": "2024-09-01",
"status": "active"
} ```

我们就必须严格按照数据形式进行修改，进行修改

首先是users的，我通过JSON Schema修改
```json Schema
{
   "$schema": "http://json-schema.org/draft-07/schema#",
   "type": "object",
   "properties": {
      "user_id": {
         "type": "string",
         "pattern": "^[0-9]{3}$"
      },
      "name": {
         "type": "string"
      },
      "email": {
         "type": "string",
         "format": "email"
      },
      "date_of_birth": {
         "type": "string",
         "format": "date"
      },
      "gender": {
         "type": "string",
         "enum": ["male", "female"]
      },
      "address": {
         "type": "string"
      },
      "phone_number": {
         "type": "string",
         "pattern": "^\\d{3}-\\d{3}-\\d{4}$"
      },
      "registration_date": {
         "type": "string",
         "format": "date"
      },
      "last_login": {
         "type": "string",
         "format": "date"
      },
      "status": {
         "type": "string",
         "enum": ["active", "inactive"]
      }
   },
   "required": ["user_id"]
}
```

这样就符合数据了

users
![img_17.png](pictures/img_17.png)


接下来是其他文档修改

products
![img_18.png](pictures/img_18.png)

orders
![img_19.png](pictures/img_19.png)





3.删除文档

建立删除文档，这个也算完备了
![img_20.png](pictures/img_20.png)

delete之后重新put。

4.查看文档

文档就参考上图


5.批量插入数据

用户信息数据
```json
[
  {
    "user_id": "001",
    "name": "Alice Johnson",
    "email": "alice.johnson@example.com",
    "date_of_birth": "1990-05-15",
    "gender": "female",
    "address": "123 Main St, Anytown, USA",
    "phone_number": "123-456-7890",
    "registration_date": "2023-01-15",
    "last_login": "2024-09-01",
    "status": "active"
  },
  {
    "user_id": "002",
    "name": "Bob Smith",
    "email": "bob.smith@example.com",
    "date_of_birth": "1985-08-20",
    "gender": "male",
    "address": "456 Elm St, Othertown, USA",
    "phone_number": "234-567-8901",
    "registration_date": "2023-02-20",
    "last_login": "2024-08-25",
    "status": "active"
  },
  {
    "user_id": "003",
    "name": "Charlie Brown",
    "email": "charlie.brown@example.com",
    "date_of_birth": "1992-11-30",
    "gender": "male",
    "address": "789 Maple Ave, Sometown, USA",
    "phone_number": "345-678-9012",
    "registration_date": "2023-03-10",
    "last_login": "2024-09-05",
    "status": "inactive"
  },
  {
    "user_id": "004",
    "name": "David Wilson",
    "email": "david.wilson@example.com",
    "date_of_birth": "1988-02-14",
    "gender": "male",
    "address": "101 Oak St, Anycity, USA",
    "phone_number": "456-789-0123",
    "registration_date": "2023-04-05",
    "last_login": "2024-08-30",
    "status": "active"
  },
  {
    "user_id": "005",
    "name": "Eve Davis",
    "email": "eve.davis@example.com",
    "date_of_birth": "1995-07-22",
    "gender": "female",
    "address": "202 Pine St, Otherville, USA",
    "phone_number": "567-890-1234",
    "registration_date": "2023-05-18",
    "last_login": "2024-09-02",
    "status": "active"
  },
  {
    "user_id": "006",
    "name": "Frank Miller",
    "email": "frank.miller@example.com",
    "date_of_birth": "1991-10-05",
    "gender": "male",
    "address": "303 Cedar Rd, Newtown, USA",
    "phone_number": "678-901-2345",
    "registration_date": "2023-06-22",
    "last_login": "2024-09-03",
    "status": "active"
  },
  {
    "user_id": "007",
    "name": "Grace Lee",
    "email": "grace.lee@example.com",
    "date_of_birth": "1989-04-17",
    "gender": "female",
    "address": "404 Birch Ln, Oldtown, USA",
    "phone_number": "789-012-3456",
    "registration_date": "2023-07-30",
    "last_login": "2024-09-04",
    "status": "inactive"
  },
  {
    "user_id": "008",
    "name": "Hannah White",
    "email": "hannah.white@example.com",
    "date_of_birth": "1993-12-25",
    "gender": "female",
    "address": "505 Spruce St, Littletown, USA",
    "phone_number": "890-123-4567",
    "registration_date": "2023-08-15",
    "last_login": "2024-09-06",
    "status": "active"
  },
  {
    "user_id": "009",
    "name": "Ivy Green",
    "email": "ivy.green@example.com",
    "date_of_birth": "1994-03-03",
    "gender": "female",
    "address": "606 Willow Ave, Bigcity, USA",
    "phone_number": "901-234-5678",
    "registration_date": "2023-09-01",
    "last_login": "2024-09-07",
    "status": "active"
  },
  {
    "user_id": "010",
    "name": "Jack Black",
    "email": "jack.black@example.com",
    "date_of_birth": "1987-06-18",
    "gender": "male",
    "address": "707 Poplar Dr, Smalltown, USA",
    "phone_number": "012-345-6789",
    "registration_date": "2023-10-10",
    "last_login": "2024-09-08",
    "status": "inactive"
  },
  {
    "user_id": "011",
    "name": "Karen Adams",
    "email": "karen.adams@example.com",
    "date_of_birth": "1990-09-21",
    "gender": "female",
    "address": "808 Chestnut Blvd, Metropolis, USA",
    "phone_number": "123-456-7890",
    "registration_date": "2023-11-25",
    "last_login": "2024-09-09",
    "status": "active"
  },
  {
    "user_id": "012",
    "name": "Leo King",
    "email": "leo.king@example.com",
    "date_of_birth": "1986-01-12",
    "gender": "male",
    "address": "909 Ash Ct, Villagetown, USA",
    "phone_number": "234-567-8901",
    "registration_date": "2023-12-05",
    "last_login": "2024-09-10",
    "status": "active"
  },
  {
    "user_id": "013",
    "name": "Mia Moore",
    "email": "mia.moore@example.com",
    "date_of_birth": "1992-02-28",
    "gender": "female",
    "address": "1010 Fir Ln, Hamlet, USA",
    "phone_number": "345-678-9012",
    "registration_date": "2024-01-10",
    "last_login": "2024-09-11",
    "status": "inactive"
  },
  {
    "user_id": "014",
    "name": "Nina Scott",
    "email": "nina.scott@example.com",
    "date_of_birth": "1988-05-05",
    "gender": "female",
    "address": "1111 Cypress St, Township, USA",
    "phone_number": "456-789-0123",
    "registration_date": "2024-02-14",
    "last_login": "2024-09-12",
    "status": "active"
  },
  {
    "user_id": "015",
    "name": "Oscar Turner",
    "email": "oscar.turner@example.com",
    "date_of_birth": "1991-07-19",
    "gender": "male",
    "address": "1212 Redwood Rd, Cityville, USA",
    "phone_number": "567-890-1234",
    "registration_date": "2024-03-20",
    "last_login": "2024-09-13",
    "status": "active"
  },
  {
    "user_id": "016",
    "name": "Paul Walker",
    "email": "paul.walker@example.com",
    "date_of_birth": "1989-10-10",
    "gender": "male",
    "address": "1313 Cherry Ave, Urbantown, USA",
    "phone_number": "678-901-2345",
    "registration_date": "2024-04-25",
    "last_login": "2024-09-14",
    "status": "inactive"
  },
  {
    "user_id": "017",
    "name": "Quinn Hughes",
    "email": "quinn.hughes@example.com",
    "date_of_birth": "1993-11-11",
    "gender": "male",
    "address": "1414 Beech St, Suburbia, USA",
    "phone_number": "789-012-3456",
    "registration_date": "2024-05-30",
    "last_login": "2024-09-15",
    "status": "active"
  },
  {
    "user_id": "018",
    "name": "Rose Hall",
    "email": "rose.hall@example.com",
    "date_of_birth": "1990-03-22",
    "gender": "female",
    "address": "1515 Palm Dr, Downtown, USA",
    "phone_number": "890-123-4567",
    "registration_date": "2024-06-15",
    "last_login": "2024-09-16",
    "status": "active"
  },
  {
    "user_id": "019",
    "name": "Steve Young",
    "email": "steve.young@example.com",
    "date_of_birth": "1987-09-09",
    "gender": "male",
    "address": "1616 Pine St, Uptown, USA",
    "phone_number": "901-234-5678",
    "registration_date": "2024-07-20",
    "last_login": "2024-09-17",
    "status": "inactive"
  },
  {
    "user_id": "020",
    "name": "Tina Brown",
    "email": "tina.brown@example.com",
    "date_of_birth": "1994-12-12",
    "gender": "female",
    "address": "1717 Maple Ave, Seaside, USA",
    "phone_number": "012-345-6789",
    "registration_date": "2024-08-10",
    "last_login": "2024-09-18",
    "status": "active"
  }
]

```

产品目录数据
```json
[
  {
    "product_id": "P001",
    "name": "Wireless Mouse",
    "description": "A high precision wireless mouse with ergonomic design.",
    "category": "Electronics",
    "price": 29.99,
    "stock_quantity": 150,
    "supplier": "TechCorp",
    "release_date": "2023-01-15",
    "tags": ["wireless", "mouse", "electronics"],
    "rating": 4.5
  },
  {
    "product_id": "P002",
    "name": "Bluetooth Speaker",
    "description": "Portable Bluetooth speaker with excellent sound quality.",
    "category": "Audio",
    "price": 49.99,
    "stock_quantity": 200,
    "supplier": "SoundWave",
    "release_date": "2023-02-20",
    "tags": ["bluetooth", "speaker", "audio"],
    "rating": 4.7
  },
  {
    "product_id": "P003",
    "name": "Smartphone Stand",
    "description": "Adjustable smartphone stand for hands-free viewing.",
    "category": "Accessories",
    "price": 15.99,
    "stock_quantity": 300,
    "supplier": "GadgetPlus",
    "release_date": "2023-03-10",
    "tags": ["smartphone", "stand", "accessories"],
    "rating": 4.3
  },
  {
    "product_id": "P004",
    "name": "USB-C Charger",
    "description": "Fast charging USB-C charger compatible with most devices.",
    "category": "Chargers",
    "price": 19.99,
    "stock_quantity": 250,
    "supplier": "ChargeMaster",
    "release_date": "2023-04-05",
    "tags": ["usb-c", "charger", "electronics"],
    "rating": 4.6
  },
  {
    "product_id": "P005",
    "name": "Noise Cancelling Headphones",
    "description": "Over-ear headphones with active noise cancellation.",
    "category": "Audio",
    "price": 89.99,
    "stock_quantity": 100,
    "supplier": "AudioTech",
    "release_date": "2023-05-18",
    "tags": ["noise cancelling", "headphones", "audio"],
    "rating": 4.8
  },
  {
    "product_id": "P006",
    "name": "4K Monitor",
    "description": "Ultra HD 4K monitor with stunning display quality.",
    "category": "Monitors",
    "price": 299.99,
    "stock_quantity": 80,
    "supplier": "ViewPerfect",
    "release_date": "2023-06-22",
    "tags": ["4k", "monitor", "electronics"],
    "rating": 4.9
  },
  {
    "product_id": "P007",
    "name": "Gaming Keyboard",
    "description": "Mechanical keyboard with customizable RGB lighting.",
    "category": "Gaming",
    "price": 59.99,
    "stock_quantity": 120,
    "supplier": "GameGear",
    "release_date": "2023-07-30",
    "tags": ["gaming", "keyboard", "electronics"],
    "rating": 4.4
  },
  {
    "product_id": "P008",
    "name": "Fitness Tracker",
    "description": "Smart fitness tracker with heart rate monitor.",
    "category": "Wearables",
    "price": 39.99,
    "stock_quantity": 180,
    "supplier": "FitLife",
    "release_date": "2023-08-15",
    "tags": ["fitness", "tracker", "wearables"],
    "rating": 4.2
  },
  {
    "product_id": "P009",
    "name": "Electric Toothbrush",
    "description": "Rechargeable electric toothbrush with multiple modes.",
    "category": "Personal Care",
    "price": 34.99,
    "stock_quantity": 140,
    "supplier": "SmileBright",
    "release_date": "2023-09-01",
    "tags": ["electric", "toothbrush", "personal care"],
    "rating": 4.5
  },
  {
    "product_id": "P010",
    "name": "Smart Thermostat",
    "description": "Wi-Fi enabled smart thermostat with energy saving features.",
    "category": "Home Automation",
    "price": 129.99,
    "stock_quantity": 90,
    "supplier": "HomeSmart",
    "release_date": "2023-10-10",
    "tags": ["smart", "thermostat", "home automation"],
    "rating": 4.7
  },
  {
    "product_id": "P011",
    "name": "LED Desk Lamp",
    "description": "Adjustable LED desk lamp with touch control.",
    "category": "Lighting",
    "price": 24.99,
    "stock_quantity": 160,
    "supplier": "BrightLight",
    "release_date": "2023-11-25",
    "tags": ["led", "desk lamp", "lighting"],
    "rating": 4.3
  },
  {
    "product_id": "P012",
    "name": "Portable Hard Drive",
    "description": "1TB portable hard drive with fast data transfer.",
    "category": "Storage",
    "price": 64.99,
    "stock_quantity": 110,
    "supplier": "DataSafe",
    "release_date": "2023-12-05",
    "tags": ["portable", "hard drive", "storage"],
    "rating": 4.6
  },
  {
    "product_id": "P013",
    "name": "Coffee Maker",
    "description": "Automatic coffee maker with programmable settings.",
    "category": "Kitchen Appliances",
    "price": 79.99,
    "stock_quantity": 130,
    "supplier": "BrewMaster",
    "release_date": "2024-01-10",
    "tags": ["coffee", "maker", "appliances"],
    "rating": 4.4
  },
  {
    "product_id": "P014",
    "name": "Smart Light Bulb",
    "description": "Color changing smart light bulb with app control.",
    "category": "Lighting",
    "price": 14.99,
    "stock_quantity": 220,
    "supplier": "LightSmart",
    "release_date": "2024-02-14",
    "tags": ["smart", "light bulb", "lighting"],
    "rating": 4.2
  },
  {
    "product_id": "P015",
    "name": "Electric Kettle",
    "description": "Quick boil electric kettle with auto shut-off.",
    "category": "Kitchen Appliances",
    "price": 29.99,
    "stock_quantity": 170,
    "supplier": "QuickBoil",
    "release_date": "2024-03-20",
    "tags": ["electric", "kettle", "appliances"],
    "rating": 4.5
  },
  {
    "product_id": "P016",
    "name": "Robot Vacuum",
    "description": "Smart robot vacuum cleaner with scheduling features.",
    "category": "Home Appliances",
    "price": 199.99,
    "stock_quantity": 60,
    "supplier": "CleanBot",
    "release_date": "2024-04-25",
    "tags": ["robot", "vacuum", "home appliances"],
    "rating": 4.8
  },
  {
    "product_id": "P017",
    "name": "Digital Camera",
    "description": "Compact digital camera with high resolution.",
    "category": "Photography",
    "price": 149.99,
    "stock_quantity": 95,
    "supplier": "PhotoSnap",
    "release_date": "2024-05-30",
    "tags": ["digital", "camera", "photography"],
    "rating": 4.7
  },
  {
    "product_id": "P018",
    "name": "Smartwatch",
    "description": "Feature-rich smartwatch with fitness tracking.",
    "category": "Wearables",
    "price": 99.99,
    "stock_quantity": 140,
    "supplier": "WristTech",
    "release_date": "2024-06-15",
    "tags": ["smartwatch", "wearables", "fitness"],
    "rating": 4.4
  },
  {
    "product_id": "P019",
    "name": "Air Fryer",
    "description": "Healthier cooking with a digital air fryer.",
    "category": "Kitchen Appliances",
    "price": 89.99,
    "stock_quantity": 115,
    "supplier": "HealthyCook",
    "release_date": "2024-07-20",
    "tags": ["air fryer", "kitchen", "appliances"],
    "rating": 4.6
  },
  {
    "product_id": "P020",
    "name": "Electric Scooter",
    "description": "Eco-friendly electric scooter with long battery life.",
    "category": "Transportation",
    "price": 299.99,
    "stock_quantity": 50,
    "supplier": "EcoRide",
    "release_date": "2024-08-10",
    "tags": ["electric", "scooter", "transportation"],
    "rating": 4.7
  }
]

```



订单记录数据
```json
[
  { "order_id": "OR001", "customer_id": "C001", "order_date": "2024-01-10", "status": "completed", "total_amount": 150.75, "items": [{ "product_id": "P001", "quantity": 2, "price": 50.00 }, { "product_id": "P002", "quantity": 1, "price": 50.75 }], "shipping_address": "123 Main St, Anytown, USA", "payment_method": "credit_card", "shipping_date": "2024-01-11", "delivery_date": "2024-01-15" },
  { "order_id": "OR002", "customer_id": "C002", "order_date": "2024-01-15", "status": "pending", "total_amount": 89.99, "items": [{ "product_id": "P003", "quantity": 1, "price": 89.99 }], "shipping_address": "456 Elm St, Othertown, USA", "payment_method": "paypal", "shipping_date": "2024-01-16", "delivery_date": "2024-01-20" },
  { "order_id": "OR003", "customer_id": "C003", "order_date": "2024-01-20", "status": "shipped", "total_amount": 120.50, "items": [{ "product_id": "P004", "quantity": 3, "price": 40.00 }], "shipping_address": "789 Maple Ave, Sometown, USA", "payment_method": "debit_card", "shipping_date": "2024-01-21", "delivery_date": "2024-01-25" },
  { "order_id": "OR004", "customer_id": "C004", "order_date": "2024-01-25", "status": "completed", "total_amount": 75.00, "items": [{ "product_id": "P005", "quantity": 5, "price": 15.00 }], "shipping_address": "101 Oak St, Anycity, USA", "payment_method": "credit_card", "shipping_date": "2024-01-26", "delivery_date": "2024-01-30" },
  { "order_id": "OR005", "customer_id": "C005", "order_date": "2024-02-01", "status": "cancelled", "total_amount": 200.00, "items": [{ "product_id": "P006", "quantity": 2, "price": 100.00 }], "shipping_address": "202 Pine St, Otherville, USA", "payment_method": "bank_transfer", "shipping_date": "2024-02-02", "delivery_date": "2024-02-06" },
  { "order_id": "OR006", "customer_id": "C006", "order_date": "2024-02-05", "status": "completed", "total_amount": 300.25, "items": [{ "product_id": "P007", "quantity": 1, "price": 300.25 }], "shipping_address": "303 Cedar Rd, Newtown, USA", "payment_method": "credit_card", "shipping_date": "2024-02-06", "delivery_date": "2024-02-10" },
  { "order_id": "OR007", "customer_id": "C007", "order_date": "2024-02-10", "status": "pending", "total_amount": 45.99, "items": [{ "product_id": "P008", "quantity": 3, "price": 15.33 }], "shipping_address": "404 Birch Ln, Oldtown, USA", "payment_method": "paypal", "shipping_date": "2024-02-11", "delivery_date": "2024-02-15" },
  { "order_id": "OR008", "customer_id": "C008", "order_date": "2024-02-15", "status": "shipped", "total_amount": 89.50, "items": [{ "product_id": "P009", "quantity": 2, "price": 44.75 }], "shipping_address": "505 Spruce St, Littletown, USA", "payment_method": "debit_card", "shipping_date": "2024-02-16", "delivery_date": "2024-02-20" },
  { "order_id": "OR009", "customer_id": "C009", "order_date": "2024-02-20", "status": "completed", "total_amount": 60.00, "items": [{ "product_id": "P010", "quantity": 4, "price": 15.00 }], "shipping_address": "606 Willow Ave, Bigcity, USA", "payment_method": "credit_card", "shipping_date": "2024-02-21", "delivery_date": "2024-02-25" },
  { "order_id": "OR010", "customer_id": "C010", "order_date": "2024-02-25", "status": "cancelled", "total_amount": 150.00, "items": [{ "product_id": "P011", "quantity": 10, "price": 15.00 }], "shipping_address": "707 Poplar Dr, Smalltown, USA", "payment_method": "bank_transfer", "shipping_date": "2024-02-26", "delivery_date": "2024-03-01" },
  { "order_id": "OR011", "customer_id": "C011", "order_date": "2024-03-01", "status": "completed", "total_amount": 110.00, "items": [{ "product_id": "P012", "quantity": 2, "price": 55.00 }], "shipping_address": "808 Chestnut Blvd, Metropolis, USA", "payment_method": "credit_card", "shipping_date": "2024-03-02", "delivery_date": "2024-03-06" },
  { "order_id": "OR012", "customer_id": "C012", "order_date": "2024-03-05", "status": "pending", "total_amount": 75.99, "items": [{ "product_id": "P013", "quantity": 3, "price": 25.33 }], "shipping_address": "909 Ash Ct, Villagetown, USA", "payment_method": "paypal", "shipping_date": "2024-03-06", "delivery_date": "2024-03-10" },
  { "order_id": "OR013", "customer_id": "C013", "order_date": "2024-03-10", "status": "shipped", "total_amount": 200.00, "items": [{ "product_id": "P014", "quantity": 4, "price": 50.00 }], "shipping_address": "1010 Fir Ln, Hamlet, USA", "payment_method": "debit_card", "shipping_date": "2024-03-11", "delivery_date": "2024-03-15" },
  { "order_id": "OR014", "customer_id": "C014", "order_date": "2024-03-15", "status": "completed", "total_amount": 90.00, "items": [{ "product_id": "P015", "quantity": 6, "price": 15.00 }], "shipping_address": "1111 Cypress St, Township, USA", "payment_method": "credit_card", "shipping_date": "2024-03-16", "delivery_date": "2024-03-20" },
  { "order_id": "OR015", "customer_id": "C015", "order_date": "2024-03-20", "status": "cancelled", "total_amount": 135.00, "items": [{ "product_id": "P016", "quantity": 9, "price": 15.00 }], "shipping_address": "1212 Redwood Rd, Cityville, USA", "payment_method": "bank_transfer", "shipping_date": "2024-03-21", "delivery_date": "2024-03-25" },
  { "order_id": "OR016", "customer_id": "C016", "order_date": "2024-03-25", "status": "completed", "total_amount": 250.00, "items": [{ "product_id": "P017", "quantity": 5, "price": 50.00 }], "shipping_address": "1313 Cherry Ave, Urbantown, USA", "payment_method": "credit_card", "shipping_date": "2024-03-26", "delivery_date": "2024-03-30" },
  { "order_id": "OR017", "customer_id": "C017", "order_date": "2024-03-30", "status": "pending", "total_amount": 60.00, "items": [{ "product_id": "P018", "quantity": 2, "price": 30.00 }], "shipping_address": "1414 Beech St, Suburbia, USA", "payment_method": "paypal", "shipping_date": "2024-03-31", "delivery_date": "2024-04-04" },
  { "order_id": "OR018", "customer_id": "C018", "order_date": "2024-04-04", "status": "shipped", "total_amount": 100.00, "items": [{ "product_id": "P019", "quantity": 4, "price": 25.00 }], "shipping_address": "1515 Palm Dr, Downtown, USA", "payment_method": "debit_card", "shipping_date": "2024-04-05", "delivery_date": "2024-04-09" },
  { "order_id": "OR019", "customer_id": "C019", "order_date": "2024-04-09", "status": "completed", "total_amount": 180.00, "items": [{ "product_id": "P020", "quantity": 6, "price": 30.00 }], "shipping_address": "1616 Pine St, Uptown, USA", "payment_method": "credit_card", "shipping_date": "2024-04-10", "delivery_date": "2024-04-14" },
  { "order_id": "OR020", "customer_id": "C020", "order_date": "2024-04-14", "status": "cancelled", "total_amount": 220.00, "items": [{ "product_id": "P021", "quantity": 11, "price": 20.00 }], "shipping_address": "1717 Maple Ave, Seaside, USA", "payment_method": "bank_transfer", "shipping_date": "2024-04-15", "delivery_date": "2024-04-19" }
]

```

进行插入
注意：因为是批量插入所以post必须是```/users/_bulk ```
即是加入_bulk
```users body json
{"index": {"_id": "001"}}
{"user_id": "001", "name": "Alice Johnson", "email": "alice.johnson@example.com", "date_of_birth": "1990-05-15", "gender": "female", "address": "123 Main St, Anytown, USA", "phone_number": "123-456-7890", "registration_date": "2023-01-15", "last_login": "2024-09-01", "status": "active"}
{"index": {"_id": "002"}}
{"user_id": "002", "name": "Bob Smith", "email": "bob.smith@example.com", "date_of_birth": "1985-08-20", "gender": "male", "address": "456 Elm St, Othertown, USA", "phone_number": "234-567-8901", "registration_date": "2023-02-20", "last_login": "2024-08-25", "status": "active"}
{"index": {"_id": "003"}}
{"user_id": "003", "name": "Charlie Brown", "email": "charlie.brown@example.com", "date_of_birth": "1992-11-30", "gender": "male", "address": "789 Maple Ave, Sometown, USA", "phone_number": "345-678-9012", "registration_date": "2023-03-10", "last_login": "2024-09-05", "status": "inactive"}
{"index": {"_id": "004"}}
{"user_id": "004", "name": "David Wilson", "email": "david.wilson@example.com", "date_of_birth": "1988-02-14", "gender": "male", "address": "101 Oak St, Anycity, USA", "phone_number": "456-789-0123", "registration_date": "2023-04-05", "last_login": "2024-08-30", "status": "active"}
{"index": {"_id": "005"}}
{"user_id": "005", "name": "Eve Davis", "email": "eve.davis@example.com", "date_of_birth": "1995-07-22", "gender": "female", "address": "202 Pine St, Otherville, USA", "phone_number": "567-890-1234", "registration_date": "2023-05-18", "last_login": "2024-09-02", "status": "active"}
{"index": {"_id": "006"}}
{"user_id": "006", "name": "Frank Miller", "email": "frank.miller@example.com", "date_of_birth": "1991-10-05", "gender": "male", "address": "303 Cedar Rd, Newtown, USA", "phone_number": "678-901-2345", "registration_date": "2023-06-22", "last_login": "2024-09-03", "status": "active"}
{"index": {"_id": "007"}}
{"user_id": "007", "name": "Grace Lee", "email": "grace.lee@example.com", "date_of_birth": "1989-04-17", "gender": "female", "address": "404 Birch Ln, Oldtown, USA", "phone_number": "789-012-3456", "registration_date": "2023-07-30", "last_login": "2024-09-04", "status": "inactive"}
{"index": {"_id": "008"}}
{"user_id": "008", "name": "Hannah White", "email": "hannah.white@example.com", "date_of_birth": "1993-12-25", "gender": "female", "address": "505 Spruce St, Littletown, USA", "phone_number": "890-123-4567", "registration_date": "2023-08-15", "last_login": "2024-09-06", "status": "active"}
{"index": {"_id": "009"}}
{"user_id": "009", "name": "Ivy Green", "email": "ivy.green@example.com", "date_of_birth": "1994-03-03", "gender": "female", "address": "606 Willow Ave, Bigcity, USA", "phone_number": "901-234-5678", "registration_date": "2023-09-01", "last_login": "2024-09-07", "status": "active"}
{"index": {"_id": "010"}}
{"user_id": "010", "name": "Jack Black", "email": "jack.black@example.com", "date_of_birth": "1987-06-18", "gender": "male", "address": "707 Poplar Dr, Smalltown, USA", "phone_number": "012-345-6789", "registration_date": "2023-10-10", "last_login": "2024-09-08", "status": "inactive"}
{"index": {"_id": "011"}}
{"user_id": "011", "name": "Karen Adams", "email": "karen.adams@example.com", "date_of_birth": "1990-09-21", "gender": "female", "address": "808 Chestnut Blvd, Metropolis, USA", "phone_number": "123-456-7890", "registration_date": "2023-11-25", "last_login": "2024-09-09", "status": "active"}
{"index": {"_id": "012"}}
{"user_id": "012", "name": "Leo King", "email": "leo.king@example.com", "date_of_birth": "1986-01-12", "gender": "male", "address": "909 Ash Ct, Villagetown, USA", "phone_number": "234-567-8901", "registration_date": "2023-12-05", "last_login": "2024-09-10", "status": "active"}
{"index": {"_id": "013"}}
{"user_id": "013", "name": "Mia Moore", "email": "mia.moore@example.com", "date_of_birth": "1992-02-28", "gender": "female", "address": "1010 Fir Ln, Hamlet, USA", "phone_number": "345-678-9012", "registration_date": "2024-01-10", "last_login": "2024-09-11", "status": "inactive"}
{"index": {"_id": "014"}}
{"user_id": "014", "name": "Nina Scott", "email": "nina.scott@example.com", "date_of_birth": "1988-05-05", "gender": "female", "address": "1111 Cypress St, Township, USA", "phone_number": "456-789-0123", "registration_date": "2024-02-14", "last_login": "2024-09-12", "status": "active"}
{"index": {"_id": "015"}}
{"user_id": "015", "name": "Oscar Turner", "email": "oscar.turner@example.com", "date_of_birth": "1991-07-19", "gender": "male", "address": "1212 Redwood Rd, Cityville, USA", "phone_number": "567-890-1234", "registration_date": "2024-03-20", "last_login": "2024-09-13", "status": "active"}
{"index": {"_id": "016"}}
{"user_id": "016", "name": "Paul Walker", "email": "paul.walker@example.com", "date_of_birth": "1989-10-10", "gender": "male", "address": "1313 Cherry Ave, Urbantown, USA", "phone_number": "678-901-2345", "registration_date": "2024-04-25", "last_login": "2024-09-14", "status": "inactive"}
{"index": {"_id": "017"}}
{"user_id": "017", "name": "Quinn Hughes", "email": "quinn.hughes@example.com", "date_of_birth": "1993-11-11", "gender": "male", "address": "1414 Beech St, Suburbia, USA", "phone_number": "789-012-3456", "registration_date": "2024-05-30", "last_login": "2024-09-15", "status": "active"}
{"index": {"_id": "018"}}
{"user_id": "018", "name": "Rose Hall", "email": "rose.hall@example.com", "date_of_birth": "1990-03-22", "gender": "female", "address": "1515 Palm Dr, Downtown, USA", "phone_number": "890-123-4567", "registration_date": "2024-06-15", "last_login": "2024-09-16", "status": "active"}
{"index": {"_id": "019"}}
{"user_id": "019", "name": "Steve Young", "email": "steve.young@example.com", "date_of_birth": "1987-09-09", "gender": "male", "address": "1616 Pine St, Uptown, USA", "phone_number": "901-234-5678", "registration_date": "2024-07-20", "last_login": "2024-09-17", "status": "inactive"}
{"index": {"_id": "020"}}
{"user_id": "020", "name": "Tina Brown", "email": "tina.brown@example.com", "date_of_birth": "1994-12-12", "gender": "female", "address": "1717 Maple Ave, Seaside, USA", "phone_number": "012-345-6789", "registration_date": "2024-08-10", "last_login": "2024-09-18", "status": "active"}

```

![img_21.png](pictures/img_21.png)




```products/_bulk
{"index": {"_id": "P001"}}
{"product_id": "P001", "name": "Wireless Mouse", "description": "A high precision wireless mouse with ergonomic design.", "category": "Electronics", "price": 29.99, "stock_quantity": 150, "supplier": "TechCorp", "release_date": "2023-01-15", "tags": ["wireless", "mouse", "electronics"], "rating": 4.5}
{"index": {"_id": "P002"}}
{"product_id": "P002", "name": "Bluetooth Speaker", "description": "Portable Bluetooth speaker with excellent sound quality.", "category": "Audio", "price": 49.99, "stock_quantity": 200, "supplier": "SoundWave", "release_date": "2023-02-20", "tags": ["bluetooth", "speaker", "audio"], "rating": 4.7}
{"index": {"_id": "P003"}}
{"product_id": "P003", "name": "Smartphone Stand", "description": "Adjustable smartphone stand for hands-free viewing.", "category": "Accessories", "price": 15.99, "stock_quantity": 300, "supplier": "GadgetPlus", "release_date": "2023-03-10", "tags": ["smartphone", "stand", "accessories"], "rating": 4.3}
{"index": {"_id": "P004"}}
{"product_id": "P004", "name": "USB-C Charger", "description": "Fast charging USB-C charger compatible with most devices.", "category": "Chargers", "price": 19.99, "stock_quantity": 250, "supplier": "ChargeMaster", "release_date": "2023-04-05", "tags": ["usb-c", "charger", "electronics"], "rating": 4.6}
{"index": {"_id": "P005"}}
{"product_id": "P005", "name": "Noise Cancelling Headphones", "description": "Over-ear headphones with active noise cancellation.", "category": "Audio", "price": 89.99, "stock_quantity": 100, "supplier": "AudioTech", "release_date": "2023-05-18", "tags": ["noise cancelling", "headphones", "audio"], "rating": 4.8}
{"index": {"_id": "P006"}}
{"product_id": "P006", "name": "4K Monitor", "description": "Ultra HD 4K monitor with stunning display quality.", "category": "Monitors", "price": 299.99, "stock_quantity": 80, "supplier": "ViewPerfect", "release_date": "2023-06-22", "tags": ["4k", "monitor", "electronics"], "rating": 4.9}
{"index": {"_id": "P007"}}
{"product_id": "P007", "name": "Gaming Keyboard", "description": "Mechanical keyboard with customizable RGB lighting.", "category": "Gaming", "price": 59.99, "stock_quantity": 120, "supplier": "GameGear", "release_date": "2023-07-30", "tags": ["gaming", "keyboard", "electronics"], "rating": 4.4}
{"index": {"_id": "P008"}}
{"product_id": "P008", "name": "Fitness Tracker", "description": "Smart fitness tracker with heart rate monitor.", "category": "Wearables", "price": 39.99, "stock_quantity": 180, "supplier": "FitLife", "release_date": "2023-08-15", "tags": ["fitness", "tracker", "wearables"], "rating": 4.2}
{"index": {"_id": "P009"}}
{"product_id": "P009", "name": "Electric Toothbrush", "description": "Rechargeable electric toothbrush with multiple modes.", "category": "Personal Care", "price": 34.99, "stock_quantity": 140, "supplier": "SmileBright", "release_date": "2023-09-01", "tags": ["electric", "toothbrush", "personal care"], "rating": 4.5}
{"index": {"_id": "P010"}}
{"product_id": "P010", "name": "Smart Thermostat", "description": "Wi-Fi enabled smart thermostat with energy saving features.", "category": "Home Automation", "price": 129.99, "stock_quantity": 90, "supplier": "HomeSmart", "release_date": "2023-10-10", "tags": ["smart", "thermostat", "home automation"], "rating": 4.7}
{"index": {"_id": "P011"}}
{"product_id": "P011", "name": "LED Desk Lamp", "description": "Adjustable LED desk lamp with touch control.", "category": "Lighting", "price": 24.99, "stock_quantity": 160, "supplier": "BrightLight", "release_date": "2023-11-25", "tags": ["led", "desk lamp", "lighting"], "rating": 4.3}
{"index": {"_id": "P012"}}
{"product_id": "P012", "name": "Portable Hard Drive", "description": "1TB portable hard drive with fast data transfer.", "category": "Storage", "price": 64.99, "stock_quantity": 110, "supplier": "DataSafe", "release_date": "2023-12-05", "tags": ["portable", "hard drive", "storage"], "rating": 4.6}
{"index": {"_id": "P013"}}
{"product_id": "P013", "name": "Coffee Maker", "description": "Automatic coffee maker with programmable settings.", "category": "Kitchen Appliances", "price": 79.99, "stock_quantity": 130, "supplier": "BrewMaster", "release_date": "2024-01-10", "tags": ["coffee", "maker", "appliances"], "rating": 4.4}
{"index": {"_id": "P014"}}
{"product_id": "P014", "name": "Smart Light Bulb", "description": "Color changing smart light bulb with app control.", "category": "Lighting", "price": 14.99, "stock_quantity": 220, "supplier": "LightSmart", "release_date": "2024-02-14", "tags": ["smart", "light bulb", "lighting"], "rating": 4.2}
{"index": {"_id": "P015"}}
{"product_id": "P015", "name": "Electric Kettle", "description": "Quick boil electric kettle with auto shut-off.", "category": "Kitchen Appliances", "price": 29.99, "stock_quantity": 170, "supplier": "QuickBoil", "release_date": "2024-03-20", "tags": ["electric", "kettle", "appliances"], "rating": 4.5}
{"index": {"_id": "P016"}}
{"product_id": "P016", "name": "Robot Vacuum", "description": "Smart robot vacuum cleaner with scheduling features.", "category": "Home Appliances", "price": 199.99, "stock_quantity": 60, "supplier": "CleanBot", "release_date": "2024-04-25", "tags": ["robot", "vacuum", "home appliances"], "rating": 4.8}
{"index": {"_id": "P017"}}
{"product_id": "P017", "name": "Digital Camera", "description": "Compact digital camera with high resolution.", "category": "Photography", "price": 149.99, "stock_quantity": 95, "supplier": "PhotoSnap", "release_date": "2024-05-30", "tags": ["digital", "camera", "photography"], "rating": 4.7}
{"index": {"_id": "P018"}}
{"product_id": "P018", "name": "Smartwatch", "description": "Feature-rich smartwatch with fitness tracking.", "category": "Wearables", "price": 99.99, "stock_quantity": 140, "supplier": "WristTech", "release_date": "2024-06-15", "tags": ["smartwatch", "wearables", "fitness"], "rating": 4.4}
{"index": {"_id": "P019"}}
{"product_id": "P019", "name": "Air Fryer", "description": "Healthier cooking with a digital air fryer.", "category": "Kitchen Appliances", "price": 89.99, "stock_quantity": 115, "supplier": "HealthyCook", "release_date": "2024-07-20", "tags": ["air fryer", "kitchen", "appliances"], "rating": 4.6}
{"index": {"_id": "P020"}}
{"product_id": "P020", "name": "Electric Scooter", "description": "Eco-friendly electric scooter with long battery life.", "category": "Transportation", "price": 299.99, "stock_quantity": 50, "supplier": "EcoRide": "release_date": "2024-08-10", "tags": ["electric", "scooter", "transportation"], "rating": 4.7}

```

![img_22.png](pictures/img_22.png)

```orders/bulk
{"index": {"_id": "OR001"}}
{"order_id": "OR001", "customer_id": "C001", "order_date": "2024-01-10", "status": "completed", "total_amount": 150.75, "items": [{"product_id": "P001", "quantity": 2, "price": 50.00}, {"product_id": "P002", "quantity": 1, "price": 50.75}], "shipping_address": "123 Main St, Anytown, USA", "payment_method": "credit_card", "shipping_date": "2024-01-11", "delivery_date": "2024-01-15"}
{"index": {"_id": "OR002"}}
{"order_id": "OR002", "customer_id": "C002", "order_date": "2024-01-15", "status": "pending", "total_amount": 89.99, "items": [{"product_id": "P003", "quantity": 1, "price": 89.99}], "shipping_address": "456 Elm St, Othertown, USA", "payment_method": "paypal", "shipping_date": "2024-01-16", "delivery_date": "2024-01-20"}
{"index": {"_id": "OR003"}}
{"order_id": "OR003", "customer_id": "C003", "order_date": "2024-01-20", "status": "shipped", "total_amount": 120.50, "items": [{"product_id": "P004", "quantity": 3, "price": 40.00}], "shipping_address": "789 Maple Ave, Sometown, USA", "payment_method": "debit_card", "shipping_date": "2024-01-21", "delivery_date": "2024-01-25"}
{"index": {"_id": "OR004"}}
{"order_id": "OR004", "customer_id": "C004", "order_date": "2024-01-25", "status": "completed", "total_amount": 75.00, "items": [{"product_id": "P005", "quantity": 5, "price": 15.00}], "shipping_address": "101 Oak St, Anycity, USA", "payment_method": "credit_card", "shipping_date": "2024-01-26", "delivery_date": "2024-01-30"}
{"index": {"_id": "OR005"}}
{"order_id": "OR005", "customer_id": "C005", "order_date": "2024-02-01", "status": "cancelled", "total_amount": 200.00, "items": [{"product_id": "P006", "quantity": 2, "price": 100.00}], "shipping_address": "202 Pine St, Otherville, USA", "payment_method": "bank_transfer", "shipping_date": "2024-02-02", "delivery_date": "2024-02-06"}
{"index": {"_id": "OR006"}}
{"order_id": "OR006", "customer_id": "C006", "order_date": "2024-02-05", "status": "completed", "total_amount": 300.25, "items": [{"product_id": "P007", "quantity": 1, "price": 300.25}], "shipping_address": "303 Cedar Rd, Newtown, USA", "payment_method": "credit_card", "shipping_date": "2024-02-06", "delivery_date": "2024-02-10"}
{"index": {"_id": "OR007"}}
{"order_id": "OR007", "customer_id": "C007", "order_date": "2024-02-10", "status": "pending", "total_amount": 45.99, "items": [{"product_id": "P008", "quantity": 3, "price": 15.33}], "shipping_address": "404 Birch Ln, Oldtown, USA", "payment_method": "paypal", "shipping_date": "2024-02-11", "delivery_date": "2024-02-15"}
{"index": {"_id": "OR008"}}
{"order_id": "OR008", "customer_id": "C008", "order_date": "2024-02-15", "status": "shipped", "total_amount": 89.50, "items": [{"product_id": "P009", "quantity": 2, "price": 44.75}], "shipping_address": "505 Spruce St, Littletown, USA", "payment_method": "debit_card", "shipping_date": "2024-02-16", "delivery_date": "2024-02-20"}
{"index": {"_id": "OR009"}}
{"order_id": "OR009", "customer_id": "C009", "order_date": "2024-02-20", "status": "completed", "total_amount": 60.00, "items": [{"product_id": "P010", "quantity": 4, "price": 15.00}], "shipping_address": "606 Willow Ave, Bigcity, USA", "payment_method": "credit_card", "shipping_date": "2024-02-21", "delivery_date": "2024-02-25"}
{"index": {"_id": "OR010"}}
{"order_id": "OR010", "customer_id": "C010", "order_date": "2024-02-25", "status": "cancelled", "total_amount": 150.00, "items": [{"product_id": "P011", "quantity": 10, "price": 15.00}], "shipping_address": "707 Poplar Dr, Smalltown, USA", "payment_method": "bank_transfer", "shipping_date": "2024-02-26", "delivery_date": "2024-03-01"}
{"index": {"_id": "OR011"}}
{"order_id": "OR011", "customer_id": "C011", "order_date": "2024-03-01", "status": "completed", "total_amount": 110.00, "items": [{"product_id": "P012", "quantity": 2, "price": 55.00}], "shipping_address": "808 Chestnut Blvd, Metropolis, USA", "payment_method": "credit_card", "shipping_date": "2024-03-02", "delivery_date": "2024-03-06"}
{"index": {"_id": "OR012"}}
{"order_id": "OR012", "customer_id": "C012", "order_date": "2024-03-05", "status": "pending", "total_amount": 75.99, "items": [{"product_id": "P013", "quantity": 3, "price": 25.33}], "shipping_address": "909 Ash Ct, Villagetown, USA", "payment_method": "paypal", "shipping_date": "2024-03-06", "delivery_date": "2024-03-10"}
{"index": {"_id": "OR013"}}
{"order_id": "OR013", "customer_id": "C013", "order_date": "2024-03-10", "status": "shipped", "total_amount": 200.00, "items": [{"product_id": "P014", "quantity": 4, "price": 50.00}], "shipping_address": "1010 Fir Ln, Hamlet, USA", "payment_method": "debit_card", "shipping_date": "2024-03-11", "delivery_date": "2024-03-15"}
{"index": {"_id": "OR014"}}
{"order_id": "OR014", "customer_id": "C014", "order_date": "2024-03-15", "status": "completed", "total_amount": 90.00, "items": [{"product_id": "P015", "quantity": 6, "price": 15.00}], "shipping_address": "1111 Cypress St, Township, USA", "payment_method": "credit_card", "shipping_date": "2024-03-16", "delivery_date": "2024-03-20"}
{"index": {"_id": "OR015"}}
{"order_id": "OR015", "customer_id": "C015", "order_date": "2024-03-20", "status": "cancelled", "total_amount": 135.00, "items": [{"product_id": "P016", "quantity": 9, "price": 15.00}], "shipping_address": "1212 Redwood Rd, Cityville, USA", "payment_method": "bank_transfer", "shipping_date": "2024-03-21", "delivery_date": "2024-03-25"}
{"index": {"_id": "OR016"}}
{"order_id": "OR016", "customer_id": "C016", "order_date": "2024-03-25", "status": "completed", "total_amount": 250.00, "items": [{"product_id": "P017", "quantity": 5, "price": 50.00}], "shipping_address": "1313 Cherry Ave, Urbantown, USA", "payment_method": "credit_card", "shipping_date": "2024-03-26", "delivery_date": "2024-03-30"}
{"index": {"_id": "OR017"}}
{"order_id": "OR017", "customer_id": "C017", "order_date": "2024-03-30", "status": "pending", "total_amount": 60.00, "items": [{"product_id": "P018", "quantity": 2, "price": 30.00}], "shipping_address": "1414 Beech St, Suburbia, USA", "payment_method": "paypal", "shipping_date": "2024-03-31", "delivery_date": "2024-04-04"}
{"index": {"_id": "OR018"}}
{"order_id": "OR018", "customer_id": "C018", "order_date": "2024-04-04", "status": "shipped", "total_amount": 100.00, "items": [{"product_id": "P019", "quantity": 4, "price": 25.00}], "shipping_address": "1515 Palm Dr, Downtown, USA", "payment_method": "debit_card", "shipping_date": "2024-04-05", "delivery_date": "2024-04-09"}
{"index": {"_id": "OR019"}}
{"order_id": "OR019", "customer_id": "C019", "order_date": "2024-04-09", "status": "completed", "total_amount": 180.00, "items": [{"product_id": "P020", "quantity": 6, "price": 30.00}], "shipping_address": "1616 Pine St, Uptown, USA", "payment_method": "credit_card", "shipping_date": "2024-04-10", "delivery_date": "2024-04-14"}
{"index": {"_id": "OR020"}}
{"order_id": "OR020", "customer_id": "C020", "order_date": "2024-04-14", "status": "cancelled", "total_amount": 220.00, "items": [{"product_id": "P021", "quantity": 11, "price": 20.00}], "shipping_address": "1717 Maple Ave, Seaside, USA", "payment_method": "bank_transfer", "shipping_date": "2024-04-15", "delivery_date": "2024-04-19"}


```

![img_23.png](pictures/img_23.png)


### 3.高级查询&DSL练习

使用快捷请求 加```_search```
1  用户信息数据






1. 查询所有女性用户的姓名和电子邮件。

```json
{
  "query": {
    "match": {
      "gender": "female"
    }
  },
  "_source": ["name", "email"]
}
```

```查询结果
{
    "took": 28,
    "timed_out": false,
    "_shards": {
        "total": 1,
        "successful": 1,
        "skipped": 0,
        "failed": 0
    },
    "hits": {
        "total": {
            "value": 10,
            "relation": "eq"
        },
        "max_score": 0.6931471,
        "hits": [
            {
                "_index": "users",
                "_id": "001",
                "_score": 0.6931471,
                "_source": {
                    "name": "Alice Johnson",
                    "email": "alice.johnson@example.com"
                }
            },
            {
                "_index": "users",
                "_id": "005",
                "_score": 0.6931471,
                "_source": {
                    "name": "Eve Davis",
                    "email": "eve.davis@example.com"
                }
            },
            {
                "_index": "users",
                "_id": "007",
                "_score": 0.6931471,
                "_source": {
                    "name": "Grace Lee",
                    "email": "grace.lee@example.com"
                }
            },
            {
                "_index": "users",
                "_id": "008",
                "_score": 0.6931471,
                "_source": {
                    "name": "Hannah White",
                    "email": "hannah.white@example.com"
                }
            },
            {
                "_index": "users",
                "_id": "009",
                "_score": 0.6931471,
                "_source": {
                    "name": "Ivy Green",
                    "email": "ivy.green@example.com"
                }
            },
            {
                "_index": "users",
                "_id": "011",
                "_score": 0.6931471,
                "_source": {
                    "name": "Karen Adams",
                    "email": "karen.adams@example.com"
                }
            },
            {
                "_index": "users",
                "_id": "013",
                "_score": 0.6931471,
                "_source": {
                    "name": "Mia Moore",
                    "email": "mia.moore@example.com"
                }
            },
            {
                "_index": "users",
                "_id": "014",
                "_score": 0.6931471,
                "_source": {
                    "name": "Nina Scott",
                    "email": "nina.scott@example.com"
                }
            },
            {
                "_index": "users",
                "_id": "018",
                "_score": 0.6931471,
                "_source": {
                    "name": "Rose Hall",
                    "email": "rose.hall@example.com"
                }
            },
            {
                "_index": "users",
                "_id": "020",
                "_score": 0.6931471,
                "_source": {
                    "name": "Tina Brown",
                    "email": "tina.brown@example.com"
                }
            }
        ]
    }
}
```

截图
![img_24.png](pictures/img_24.png)



2. 查找最后登录日期在2024年9月1日之后的所有活跃用户。


```json
{
  "query": {
    "bool": {
      "must": [
        {
          "range": {
            "last_login": {
              "gte": "2024-09-01"
            }
          }
        },
        {
          "match": {
            "status": "active"
          }
        }
      ]
    }
  }
}
```

```查询结果
{
    "took": 10,
    "timed_out": false,
    "_shards": {
        "total": 1,
        "successful": 1,
        "skipped": 0,
        "failed": 0
    },
    "hits": {
        "total": {
            "value": 12,
            "relation": "eq"
        },
        "max_score": 1.3703737,
        "hits": [
            {
                "_index": "users",
                "_id": "001",
                "_score": 1.3703737,
                "_source": {
                    "user_id": "001",
                    "name": "Alice Johnson",
                    "email": "alice.johnson@example.com",
                    "date_of_birth": "1990-05-15",
                    "gender": "female",
                    "address": "123 Main St, Anytown, USA",
                    "phone_number": "123-456-7890",
                    "registration_date": "2023-01-15",
                    "last_login": "2024-09-01",
                    "status": "active"
                }
            },
            {
                "_index": "users",
                "_id": "005",
                "_score": 1.3703737,
                "_source": {
                    "user_id": "005",
                    "name": "Eve Davis",
                    "email": "eve.davis@example.com",
                    "date_of_birth": "1995-07-22",
                    "gender": "female",
                    "address": "202 Pine St, Otherville, USA",
                    "phone_number": "567-890-1234",
                    "registration_date": "2023-05-18",
                    "last_login": "2024-09-02",
                    "status": "active"
                }
            },
            {
                "_index": "users",
                "_id": "006",
                "_score": 1.3703737,
                "_source": {
                    "user_id": "006",
                    "name": "Frank Miller",
                    "email": "frank.miller@example.com",
                    "date_of_birth": "1991-10-05",
                    "gender": "male",
                    "address": "303 Cedar Rd, Newtown, USA",
                    "phone_number": "678-901-2345",
                    "registration_date": "2023-06-22",
                    "last_login": "2024-09-03",
                    "status": "active"
                }
            },
            {
                "_index": "users",
                "_id": "008",
                "_score": 1.3703737,
                "_source": {
                    "user_id": "008",
                    "name": "Hannah White",
                    "email": "hannah.white@example.com",
                    "date_of_birth": "1993-12-25",
                    "gender": "female",
                    "address": "505 Spruce St, Littletown, USA",
                    "phone_number": "890-123-4567",
                    "registration_date": "2023-08-15",
                    "last_login": "2024-09-06",
                    "status": "active"
                }
            },
            {
                "_index": "users",
                "_id": "009",
                "_score": 1.3703737,
                "_source": {
                    "user_id": "009",
                    "name": "Ivy Green",
                    "email": "ivy.green@example.com",
                    "date_of_birth": "1994-03-03",
                    "gender": "female",
                    "address": "606 Willow Ave, Bigcity, USA",
                    "phone_number": "901-234-5678",
                    "registration_date": "2023-09-01",
                    "last_login": "2024-09-07",
                    "status": "active"
                }
            },
            {
                "_index": "users",
                "_id": "011",
                "_score": 1.3703737,
                "_source": {
                    "user_id": "011",
                    "name": "Karen Adams",
                    "email": "karen.adams@example.com",
                    "date_of_birth": "1990-09-21",
                    "gender": "female",
                    "address": "808 Chestnut Blvd, Metropolis, USA",
                    "phone_number": "123-456-7890",
                    "registration_date": "2023-11-25",
                    "last_login": "2024-09-09",
                    "status": "active"
                }
            },
            {
                "_index": "users",
                "_id": "012",
                "_score": 1.3703737,
                "_source": {
                    "user_id": "012",
                    "name": "Leo King",
                    "email": "leo.king@example.com",
                    "date_of_birth": "1986-01-12",
                    "gender": "male",
                    "address": "909 Ash Ct, Villagetown, USA",
                    "phone_number": "234-567-8901",
                    "registration_date": "2023-12-05",
                    "last_login": "2024-09-10",
                    "status": "active"
                }
            },
            {
                "_index": "users",
                "_id": "014",
                "_score": 1.3703737,
                "_source": {
                    "user_id": "014",
                    "name": "Nina Scott",
                    "email": "nina.scott@example.com",
                    "date_of_birth": "1988-05-05",
                    "gender": "female",
                    "address": "1111 Cypress St, Township, USA",
                    "phone_number": "456-789-0123",
                    "registration_date": "2024-02-14",
                    "last_login": "2024-09-12",
                    "status": "active"
                }
            },
            {
                "_index": "users",
                "_id": "015",
                "_score": 1.3703737,
                "_source": {
                    "user_id": "015",
                    "name": "Oscar Turner",
                    "email": "oscar.turner@example.com",
                    "date_of_birth": "1991-07-19",
                    "gender": "male",
                    "address": "1212 Redwood Rd, Cityville, USA",
                    "phone_number": "567-890-1234",
                    "registration_date": "2024-03-20",
                    "last_login": "2024-09-13",
                    "status": "active"
                }
            },
            {
                "_index": "users",
                "_id": "017",
                "_score": 1.3703737,
                "_source": {
                    "user_id": "017",
                    "name": "Quinn Hughes",
                    "email": "quinn.hughes@example.com",
                    "date_of_birth": "1993-11-11",
                    "gender": "male",
                    "address": "1414 Beech St, Suburbia, USA",
                    "phone_number": "789-012-3456",
                    "registration_date": "2024-05-30",
                    "last_login": "2024-09-15",
                    "status": "active"
                }
            }
        ]
    }
}
```

截图

![img_25.png](pictures/img_25.png)




3. 查询住在"Anytown"的用户。


```json
{
  "query": {
    "match": {
      "address": "Anytown"
    }
  }
}
```

```查询结果
{
    "took": 2,
    "timed_out": false,
    "_shards": {
        "total": 1,
        "successful": 1,
        "skipped": 0,
        "failed": 0
    },
    "hits": {
        "total": {
            "value": 1,
            "relation": "eq"
        },
        "max_score": 2.6390574,
        "hits": [
            {
                "_index": "users",
                "_id": "001",
                "_score": 2.6390574,
                "_source": {
                    "user_id": "001",
                    "name": "Alice Johnson",
                    "email": "alice.johnson@example.com",
                    "date_of_birth": "1990-05-15",
                    "gender": "female",
                    "address": "123 Main St, Anytown, USA",
                    "phone_number": "123-456-7890",
                    "registration_date": "2023-01-15",
                    "last_login": "2024-09-01",
                    "status": "active"
                }
            }
        ]
    }
}
```

截图
![img_26.png](pictures/img_26.png)



4. 查找出生日期在1990年之后的所有用户。

```json
{
  "query": {
    "range": {
      "date_of_birth": {
        "gte": "1990-01-01"
      }
    }
  }
}
```

```查询结果
{
    "took": 1,
    "timed_out": false,
    "_shards": {
        "total": 1,
        "successful": 1,
        "skipped": 0,
        "failed": 0
    },
    "hits": {
        "total": {
            "value": 12,
            "relation": "eq"
        },
        "max_score": 1.0,
        "hits": [
            {
                "_index": "users",
                "_id": "001",
                "_score": 1.0,
                "_source": {
                    "user_id": "001",
                    "name": "Alice Johnson",
                    "email": "alice.johnson@example.com",
                    "date_of_birth": "1990-05-15",
                    "gender": "female",
                    "address": "123 Main St, Anytown, USA",
                    "phone_number": "123-456-7890",
                    "registration_date": "2023-01-15",
                    "last_login": "2024-09-01",
                    "status": "active"
                }
            },
            {
                "_index": "users",
                "_id": "003",
                "_score": 1.0,
                "_source": {
                    "user_id": "003",
                    "name": "Charlie Brown",
                    "email": "charlie.brown@example.com",
                    "date_of_birth": "1992-11-30",
                    "gender": "male",
                    "address": "789 Maple Ave, Sometown, USA",
                    "phone_number": "345-678-9012",
                    "registration_date": "2023-03-10",
                    "last_login": "2024-09-05",
                    "status": "inactive"
                }
            },
            {
                "_index": "users",
                "_id": "005",
                "_score": 1.0,
                "_source": {
                    "user_id": "005",
                    "name": "Eve Davis",
                    "email": "eve.davis@example.com",
                    "date_of_birth": "1995-07-22",
                    "gender": "female",
                    "address": "202 Pine St, Otherville, USA",
                    "phone_number": "567-890-1234",
                    "registration_date": "2023-05-18",
                    "last_login": "2024-09-02",
                    "status": "active"
                }
            },
            {
                "_index": "users",
                "_id": "006",
                "_score": 1.0,
                "_source": {
                    "user_id": "006",
                    "name": "Frank Miller",
                    "email": "frank.miller@example.com",
                    "date_of_birth": "1991-10-05",
                    "gender": "male",
                    "address": "303 Cedar Rd, Newtown, USA",
                    "phone_number": "678-901-2345",
                    "registration_date": "2023-06-22",
                    "last_login": "2024-09-03",
                    "status": "active"
                }
            },
            {
                "_index": "users",
                "_id": "008",
                "_score": 1.0,
                "_source": {
                    "user_id": "008",
                    "name": "Hannah White",
                    "email": "hannah.white@example.com",
                    "date_of_birth": "1993-12-25",
                    "gender": "female",
                    "address": "505 Spruce St, Littletown, USA",
                    "phone_number": "890-123-4567",
                    "registration_date": "2023-08-15",
                    "last_login": "2024-09-06",
                    "status": "active"
                }
            },
            {
                "_index": "users",
                "_id": "009",
                "_score": 1.0,
                "_source": {
                    "user_id": "009",
                    "name": "Ivy Green",
                    "email": "ivy.green@example.com",
                    "date_of_birth": "1994-03-03",
                    "gender": "female",
                    "address": "606 Willow Ave, Bigcity, USA",
                    "phone_number": "901-234-5678",
                    "registration_date": "2023-09-01",
                    "last_login": "2024-09-07",
                    "status": "active"
                }
            },
            {
                "_index": "users",
                "_id": "011",
                "_score": 1.0,
                "_source": {
                    "user_id": "011",
                    "name": "Karen Adams",
                    "email": "karen.adams@example.com",
                    "date_of_birth": "1990-09-21",
                    "gender": "female",
                    "address": "808 Chestnut Blvd, Metropolis, USA",
                    "phone_number": "123-456-7890",
                    "registration_date": "2023-11-25",
                    "last_login": "2024-09-09",
                    "status": "active"
                }
            },
            {
                "_index": "users",
                "_id": "013",
                "_score": 1.0,
                "_source": {
                    "user_id": "013",
                    "name": "Mia Moore",
                    "email": "mia.moore@example.com",
                    "date_of_birth": "1992-02-28",
                    "gender": "female",
                    "address": "1010 Fir Ln, Hamlet, USA",
                    "phone_number": "345-678-9012",
                    "registration_date": "2024-01-10",
                    "last_login": "2024-09-11",
                    "status": "inactive"
                }
            },
            {
                "_index": "users",
                "_id": "015",
                "_score": 1.0,
                "_source": {
                    "user_id": "015",
                    "name": "Oscar Turner",
                    "email": "oscar.turner@example.com",
                    "date_of_birth": "1991-07-19",
                    "gender": "male",
                    "address": "1212 Redwood Rd, Cityville, USA",
                    "phone_number": "567-890-1234",
                    "registration_date": "2024-03-20",
                    "last_login": "2024-09-13",
                    "status": "active"
                }
            },
            {
                "_index": "users",
                "_id": "017",
                "_score": 1.0,
                "_source": {
                    "user_id": "017",
                    "name": "Quinn Hughes",
                    "email": "quinn.hughes@example.com",
                    "date_of_birth": "1993-11-11",
                    "gender": "male",
                    "address": "1414 Beech St, Suburbia, USA",
                    "phone_number": "789-012-3456",
                    "registration_date": "2024-05-30",
                    "last_login": "2024-09-15",
                    "status": "active"
                }
            }
        ]
    }
}
```

截图
![img_27.png](pictures/img_27.png)





5. 查询所有状态为"inactive"的用户。

```json
{
  "query": {
    "match": {
      "status": "inactive"
    }
  }
}
```

```查询结果
{
    "took": 2,
    "timed_out": false,
    "_shards": {
        "total": 1,
        "successful": 1,
        "skipped": 0,
        "failed": 0
    },
    "hits": {
        "total": {
            "value": 6,
            "relation": "eq"
        },
        "max_score": 1.1727202,
        "hits": [
            {
                "_index": "users",
                "_id": "003",
                "_score": 1.1727202,
                "_source": {
                    "user_id": "003",
                    "name": "Charlie Brown",
                    "email": "charlie.brown@example.com",
                    "date_of_birth": "1992-11-30",
                    "gender": "male",
                    "address": "789 Maple Ave, Sometown, USA",
                    "phone_number": "345-678-9012",
                    "registration_date": "2023-03-10",
                    "last_login": "2024-09-05",
                    "status": "inactive"
                }
            },
            {
                "_index": "users",
                "_id": "007",
                "_score": 1.1727202,
                "_source": {
                    "user_id": "007",
                    "name": "Grace Lee",
                    "email": "grace.lee@example.com",
                    "date_of_birth": "1989-04-17",
                    "gender": "female",
                    "address": "404 Birch Ln, Oldtown, USA",
                    "phone_number": "789-012-3456",
                    "registration_date": "2023-07-30",
                    "last_login": "2024-09-04",
                    "status": "inactive"
                }
            },
            {
                "_index": "users",
                "_id": "010",
                "_score": 1.1727202,
                "_source": {
                    "user_id": "010",
                    "name": "Jack Black",
                    "email": "jack.black@example.com",
                    "date_of_birth": "1987-06-18",
                    "gender": "male",
                    "address": "707 Poplar Dr, Smalltown, USA",
                    "phone_number": "012-345-6789",
                    "registration_date": "2023-10-10",
                    "last_login": "2024-09-08",
                    "status": "inactive"
                }
            },
            {
                "_index": "users",
                "_id": "013",
                "_score": 1.1727202,
                "_source": {
                    "user_id": "013",
                    "name": "Mia Moore",
                    "email": "mia.moore@example.com",
                    "date_of_birth": "1992-02-28",
                    "gender": "female",
                    "address": "1010 Fir Ln, Hamlet, USA",
                    "phone_number": "345-678-9012",
                    "registration_date": "2024-01-10",
                    "last_login": "2024-09-11",
                    "status": "inactive"
                }
            },
            {
                "_index": "users",
                "_id": "016",
                "_score": 1.1727202,
                "_source": {
                    "user_id": "016",
                    "name": "Paul Walker",
                    "email": "paul.walker@example.com",
                    "date_of_birth": "1989-10-10",
                    "gender": "male",
                    "address": "1313 Cherry Ave, Urbantown, USA",
                    "phone_number": "678-901-2345",
                    "registration_date": "2024-04-25",
                    "last_login": "2024-09-14",
                    "status": "inactive"
                }
            },
            {
                "_index": "users",
                "_id": "019",
                "_score": 1.1727202,
                "_source": {
                    "user_id": "019",
                    "name": "Steve Young",
                    "email": "steve.young@example.com",
                    "date_of_birth": "1987-09-09",
                    "gender": "male",
                    "address": "1616 Pine St, Uptown, USA",
                    "phone_number": "901-234-5678",
                    "registration_date": "2024-07-20",
                    "last_login": "2024-09-17",
                    "status": "inactive"
                }
            }
        ]
    }
}
```

截图
![img_28.png](pictures/img_28.png)




6. 查找注册日期在2023年1月1日到2023年12月31日之间的用户。

```json
{
  "query": {
    "range": {
      "registration_date": {
        "gte": "2023-01-01",
        "lte": "2023-12-31"
      }
    }
  }
}
```

```查询结果
{
    "took": 5,
    "timed_out": false,
    "_shards": {
        "total": 1,
        "successful": 1,
        "skipped": 0,
        "failed": 0
    },
    "hits": {
        "total": {
            "value": 12,
            "relation": "eq"
        },
        "max_score": 1.0,
        "hits": [
            {
                "_index": "users",
                "_id": "001",
                "_score": 1.0,
                "_source": {
                    "user_id": "001",
                    "name": "Alice Johnson",
                    "email": "alice.johnson@example.com",
                    "date_of_birth": "1990-05-15",
                    "gender": "female",
                    "address": "123 Main St, Anytown, USA",
                    "phone_number": "123-456-7890",
                    "registration_date": "2023-01-15",
                    "last_login": "2024-09-01",
                    "status": "active"
                }
            },
            {
                "_index": "users",
                "_id": "002",
                "_score": 1.0,
                "_source": {
                    "user_id": "002",
                    "name": "Bob Smith",
                    "email": "bob.smith@example.com",
                    "date_of_birth": "1985-08-20",
                    "gender": "male",
                    "address": "456 Elm St, Othertown, USA",
                    "phone_number": "234-567-8901",
                    "registration_date": "2023-02-20",
                    "last_login": "2024-08-25",
                    "status": "active"
                }
            },
            {
                "_index": "users",
                "_id": "003",
                "_score": 1.0,
                "_source": {
                    "user_id": "003",
                    "name": "Charlie Brown",
                    "email": "charlie.brown@example.com",
                    "date_of_birth": "1992-11-30",
                    "gender": "male",
                    "address": "789 Maple Ave, Sometown, USA",
                    "phone_number": "345-678-9012",
                    "registration_date": "2023-03-10",
                    "last_login": "2024-09-05",
                    "status": "inactive"
                }
            },
            {
                "_index": "users",
                "_id": "004",
                "_score": 1.0,
                "_source": {
                    "user_id": "004",
                    "name": "David Wilson",
                    "email": "david.wilson@example.com",
                    "date_of_birth": "1988-02-14",
                    "gender": "male",
                    "address": "101 Oak St, Anycity, USA",
                    "phone_number": "456-789-0123",
                    "registration_date": "2023-04-05",
                    "last_login": "2024-08-30",
                    "status": "active"
                }
            },
            {
                "_index": "users",
                "_id": "005",
                "_score": 1.0,
                "_source": {
                    "user_id": "005",
                    "name": "Eve Davis",
                    "email": "eve.davis@example.com",
                    "date_of_birth": "1995-07-22",
                    "gender": "female",
                    "address": "202 Pine St, Otherville, USA",
                    "phone_number": "567-890-1234",
                    "registration_date": "2023-05-18",
                    "last_login": "2024-09-02",
                    "status": "active"
                }
            },
            {
                "_index": "users",
                "_id": "006",
                "_score": 1.0,
                "_source": {
                    "user_id": "006",
                    "name": "Frank Miller",
                    "email": "frank.miller@example.com",
                    "date_of_birth": "1991-10-05",
                    "gender": "male",
                    "address": "303 Cedar Rd, Newtown, USA",
                    "phone_number": "678-901-2345",
                    "registration_date": "2023-06-22",
                    "last_login": "2024-09-03",
                    "status": "active"
                }
            },
            {
                "_index": "users",
                "_id": "007",
                "_score": 1.0,
                "_source": {
                    "user_id": "007",
                    "name": "Grace Lee",
                    "email": "grace.lee@example.com",
                    "date_of_birth": "1989-04-17",
                    "gender": "female",
                    "address": "404 Birch Ln, Oldtown, USA",
                    "phone_number": "789-012-3456",
                    "registration_date": "2023-07-30",
                    "last_login": "2024-09-04",
                    "status": "inactive"
                }
            },
            {
                "_index": "users",
                "_id": "008",
                "_score": 1.0,
                "_source": {
                    "user_id": "008",
                    "name": "Hannah White",
                    "email": "hannah.white@example.com",
                    "date_of_birth": "1993-12-25",
                    "gender": "female",
                    "address": "505 Spruce St, Littletown, USA",
                    "phone_number": "890-123-4567",
                    "registration_date": "2023-08-15",
                    "last_login": "2024-09-06",
                    "status": "active"
                }
            },
            {
                "_index": "users",
                "_id": "009",
                "_score": 1.0,
                "_source": {
                    "user_id": "009",
                    "name": "Ivy Green",
                    "email": "ivy.green@example.com",
                    "date_of_birth": "1994-03-03",
                    "gender": "female",
                    "address": "606 Willow Ave, Bigcity, USA",
                    "phone_number": "901-234-5678",
                    "registration_date": "2023-09-01",
                    "last_login": "2024-09-07",
                    "status": "active"
                }
            },
            {
                "_index": "users",
                "_id": "010",
                "_score": 1.0,
                "_source": {
                    "user_id": "010",
                    "name": "Jack Black",
                    "email": "jack.black@example.com",
                    "date_of_birth": "1987-06-18",
                    "gender": "male",
                    "address": "707 Poplar Dr, Smalltown, USA",
                    "phone_number": "012-345-6789",
                    "registration_date": "2023-10-10",
                    "last_login": "2024-09-08",
                    "status": "inactive"
                }
            }
        ]
    }
}
```

截图
![img_30.png](pictures/img_30.png)


为了方便后续不在给出截图事例。。。。。。。

7. 查询名字为"Bob Smith"的用户的详细信息。

```json
{
  "query": {
    "match": {
      "name": "Bob Smith"
    }
  }
}
```

```查询结果
{
    "took": 22,
    "timed_out": false,
    "_shards": {
        "total": 1,
        "successful": 1,
        "skipped": 0,
        "failed": 0
    },
    "hits": {
        "total": {
            "value": 1,
            "relation": "eq"
        },
        "max_score": 5.278115,
        "hits": [
            {
                "_index": "users",
                "_id": "002",
                "_score": 5.278115,
                "_source": {
                    "user_id": "002",
                    "name": "Bob Smith",
                    "email": "bob.smith@example.com",
                    "date_of_birth": "1985-08-20",
                    "gender": "male",
                    "address": "456 Elm St, Othertown, USA",
                    "phone_number": "234-567-8901",
                    "registration_date": "2023-02-20",
                    "last_login": "2024-08-25",
                    "status": "active"
                }
            }
        ]
    }
}
```









8. 查找电话号码以"123"开头的用户。

```json
{
  "query": {
    "prefix": {
      "phone_number": "123"
    }
  }
}
```

```查询结果
{
    "took": 22,
    "timed_out": false,
    "_shards": {
        "total": 1,
        "successful": 1,
        "skipped": 0,
        "failed": 0
    },
    "hits": {
        "total": {
            "value": 6,
            "relation": "eq"
        },
        "max_score": 1.0,
        "hits": [
            {
                "_index": "users",
                "_id": "001",
                "_score": 1.0,
                "_source": {
                    "user_id": "001",
                    "name": "Alice Johnson",
                    "email": "alice.johnson@example.com",
                    "date_of_birth": "1990-05-15",
                    "gender": "female",
                    "address": "123 Main St, Anytown, USA",
                    "phone_number": "123-456-7890",
                    "registration_date": "2023-01-15",
                    "last_login": "2024-09-01",
                    "status": "active"
                }
            },
            {
                "_index": "users",
                "_id": "005",
                "_score": 1.0,
                "_source": {
                    "user_id": "005",
                    "name": "Eve Davis",
                    "email": "eve.davis@example.com",
                    "date_of_birth": "1995-07-22",
                    "gender": "female",
                    "address": "202 Pine St, Otherville, USA",
                    "phone_number": "567-890-1234",
                    "registration_date": "2023-05-18",
                    "last_login": "2024-09-02",
                    "status": "active"
                }
            },
            {
                "_index": "users",
                "_id": "008",
                "_score": 1.0,
                "_source": {
                    "user_id": "008",
                    "name": "Hannah White",
                    "email": "hannah.white@example.com",
                    "date_of_birth": "1993-12-25",
                    "gender": "female",
                    "address": "505 Spruce St, Littletown, USA",
                    "phone_number": "890-123-4567",
                    "registration_date": "2023-08-15",
                    "last_login": "2024-09-06",
                    "status": "active"
                }
            },
            {
                "_index": "users",
                "_id": "011",
                "_score": 1.0,
                "_source": {
                    "user_id": "011",
                    "name": "Karen Adams",
                    "email": "karen.adams@example.com",
                    "date_of_birth": "1990-09-21",
                    "gender": "female",
                    "address": "808 Chestnut Blvd, Metropolis, USA",
                    "phone_number": "123-456-7890",
                    "registration_date": "2023-11-25",
                    "last_login": "2024-09-09",
                    "status": "active"
                }
            },
            {
                "_index": "users",
                "_id": "015",
                "_score": 1.0,
                "_source": {
                    "user_id": "015",
                    "name": "Oscar Turner",
                    "email": "oscar.turner@example.com",
                    "date_of_birth": "1991-07-19",
                    "gender": "male",
                    "address": "1212 Redwood Rd, Cityville, USA",
                    "phone_number": "567-890-1234",
                    "registration_date": "2024-03-20",
                    "last_login": "2024-09-13",
                    "status": "active"
                }
            },
            {
                "_index": "users",
                "_id": "018",
                "_score": 1.0,
                "_source": {
                    "user_id": "018",
                    "name": "Rose Hall",
                    "email": "rose.hall@example.com",
                    "date_of_birth": "1990-03-22",
                    "gender": "female",
                    "address": "1515 Palm Dr, Downtown, USA",
                    "phone_number": "890-123-4567",
                    "registration_date": "2024-06-15",
                    "last_login": "2024-09-16",
                    "status": "active"
                }
            }
        ]
    }
}
```

截图






9. 查询电子邮件域为"example.com"的所有用户。

```json
{
  "query": {
    "match": {
      "email": "*@example.com"
    }
  }
}
```

```查询结果
{
    "took": 3,
    "timed_out": false,
    "_shards": {
        "total": 1,
        "successful": 1,
        "skipped": 0,
        "failed": 0
    },
    "hits": {
        "total": {
            "value": 20,
            "relation": "eq"
        },
        "max_score": 0.02409755,
        "hits": [
            {
                "_index": "users",
                "_id": "001",
                "_score": 0.02409755,
                "_source": {
                    "user_id": "001",
                    "name": "Alice Johnson",
                    "email": "alice.johnson@example.com",
                    "date_of_birth": "1990-05-15",
                    "gender": "female",
                    "address": "123 Main St, Anytown, USA",
                    "phone_number": "123-456-7890",
                    "registration_date": "2023-01-15",
                    "last_login": "2024-09-01",
                    "status": "active"
                }
            },
            {
                "_index": "users",
                "_id": "002",
                "_score": 0.02409755,
                "_source": {
                    "user_id": "002",
                    "name": "Bob Smith",
                    "email": "bob.smith@example.com",
                    "date_of_birth": "1985-08-20",
                    "gender": "male",
                    "address": "456 Elm St, Othertown, USA",
                    "phone_number": "234-567-8901",
                    "registration_date": "2023-02-20",
                    "last_login": "2024-08-25",
                    "status": "active"
                }
            },
            {
                "_index": "users",
                "_id": "003",
                "_score": 0.02409755,
                "_source": {
                    "user_id": "003",
                    "name": "Charlie Brown",
                    "email": "charlie.brown@example.com",
                    "date_of_birth": "1992-11-30",
                    "gender": "male",
                    "address": "789 Maple Ave, Sometown, USA",
                    "phone_number": "345-678-9012",
                    "registration_date": "2023-03-10",
                    "last_login": "2024-09-05",
                    "status": "inactive"
                }
            },
            {
                "_index": "users",
                "_id": "004",
                "_score": 0.02409755,
                "_source": {
                    "user_id": "004",
                    "name": "David Wilson",
                    "email": "david.wilson@example.com",
                    "date_of_birth": "1988-02-14",
                    "gender": "male",
                    "address": "101 Oak St, Anycity, USA",
                    "phone_number": "456-789-0123",
                    "registration_date": "2023-04-05",
                    "last_login": "2024-08-30",
                    "status": "active"
                }
            },
            {
                "_index": "users",
                "_id": "005",
                "_score": 0.02409755,
                "_source": {
                    "user_id": "005",
                    "name": "Eve Davis",
                    "email": "eve.davis@example.com",
                    "date_of_birth": "1995-07-22",
                    "gender": "female",
                    "address": "202 Pine St, Otherville, USA",
                    "phone_number": "567-890-1234",
                    "registration_date": "2023-05-18",
                    "last_login": "2024-09-02",
                    "status": "active"
                }
            },
            {
                "_index": "users",
                "_id": "006",
                "_score": 0.02409755,
                "_source": {
                    "user_id": "006",
                    "name": "Frank Miller",
                    "email": "frank.miller@example.com",
                    "date_of_birth": "1991-10-05",
                    "gender": "male",
                    "address": "303 Cedar Rd, Newtown, USA",
                    "phone_number": "678-901-2345",
                    "registration_date": "2023-06-22",
                    "last_login": "2024-09-03",
                    "status": "active"
                }
            },
            {
                "_index": "users",
                "_id": "007",
                "_score": 0.02409755,
                "_source": {
                    "user_id": "007",
                    "name": "Grace Lee",
                    "email": "grace.lee@example.com",
                    "date_of_birth": "1989-04-17",
                    "gender": "female",
                    "address": "404 Birch Ln, Oldtown, USA",
                    "phone_number": "789-012-3456",
                    "registration_date": "2023-07-30",
                    "last_login": "2024-09-04",
                    "status": "inactive"
                }
            },
            {
                "_index": "users",
                "_id": "008",
                "_score": 0.02409755,
                "_source": {
                    "user_id": "008",
                    "name": "Hannah White",
                    "email": "hannah.white@example.com",
                    "date_of_birth": "1993-12-25",
                    "gender": "female",
                    "address": "505 Spruce St, Littletown, USA",
                    "phone_number": "890-123-4567",
                    "registration_date": "2023-08-15",
                    "last_login": "2024-09-06",
                    "status": "active"
                }
            },
            {
                "_index": "users",
                "_id": "009",
                "_score": 0.02409755,
                "_source": {
                    "user_id": "009",
                    "name": "Ivy Green",
                    "email": "ivy.green@example.com",
                    "date_of_birth": "1994-03-03",
                    "gender": "female",
                    "address": "606 Willow Ave, Bigcity, USA",
                    "phone_number": "901-234-5678",
                    "registration_date": "2023-09-01",
                    "last_login": "2024-09-07",
                    "status": "active"
                }
            },
            {
                "_index": "users",
                "_id": "010",
                "_score": 0.02409755,
                "_source": {
                    "user_id": "010",
                    "name": "Jack Black",
                    "email": "jack.black@example.com",
                    "date_of_birth": "1987-06-18",
                    "gender": "male",
                    "address": "707 Poplar Dr, Smalltown, USA",
                    "phone_number": "012-345-6789",
                    "registration_date": "2023-10-10",
                    "last_login": "2024-09-08",
                    "status": "inactive"
                }
            }
        ]
    }
}
```

截图





10. 查找所有名字中包含"Lee"的用户。


```json
{
  "query": {
    "match": {
      "name": "Lee"
    }
  }
}
```

```查询结果
{
    "took": 1,
    "timed_out": false,
    "_shards": {
        "total": 1,
        "successful": 1,
        "skipped": 0,
        "failed": 0
    },
    "hits": {
        "total": {
            "value": 1,
            "relation": "eq"
        },
        "max_score": 2.6390574,
        "hits": [
            {
                "_index": "users",
                "_id": "007",
                "_score": 2.6390574,
                "_source": {
                    "user_id": "007",
                    "name": "Grace Lee",
                    "email": "grace.lee@example.com",
                    "date_of_birth": "1989-04-17",
                    "gender": "female",
                    "address": "404 Birch Ln, Oldtown, USA",
                    "phone_number": "789-012-3456",
                    "registration_date": "2023-07-30",
                    "last_login": "2024-09-04",
                    "status": "inactive"
                }
            }
        ]
    }
}
```

截图





 
2.产品目录数据

1. 查询所有类别为"Audio"的产品名称和价格。


```json
{
  "query": {
    "match": {
      "category": "Audio"
    }
  },
  "_source": ["name", "price"]
}
```

```查询结果
{
    "took": 3,
    "timed_out": false,
    "_shards": {
        "total": 1,
        "successful": 1,
        "skipped": 0,
        "failed": 0
    },
    "hits": {
        "total": {
            "value": 2,
            "relation": "eq"
        },
        "max_score": 2.3058324,
        "hits": [
            {
                "_index": "products",
                "_id": "P002",
                "_score": 2.3058324,
                "_source": {
                    "name": "Bluetooth Speaker",
                    "price": 49.99
                }
            },
            {
                "_index": "products",
                "_id": "P005",
                "_score": 2.3058324,
                "_source": {
                    "name": "Noise Cancelling Headphones",
                    "price": 89.99
                }
            }
        ]
    }
}
```

截图
![img_31.png](pictures/img_31.png)






2. 查找价格高于50美元的所有产品。


```json
{
  "query": {
    "range": {
      "price": {
        "gt": 50
      }
    }
  }
}
```

```查询结果
{
    "took": 7,
    "timed_out": false,
    "_shards": {
        "total": 1,
        "successful": 1,
        "skipped": 0,
        "failed": 0
    },
    "hits": {
        "total": {
            "value": 10,
            "relation": "eq"
        },
        "max_score": 1.0,
        "hits": [
            {
                "_index": "products",
                "_id": "P005",
                "_score": 1.0,
                "_source": {
                    "product_id": "P005",
                    "name": "Noise Cancelling Headphones",
                    "description": "Over-ear headphones with active noise cancellation.",
                    "category": "Audio",
                    "price": 89.99,
                    "stock_quantity": 100,
                    "supplier": "AudioTech",
                    "release_date": "2023-05-18",
                    "tags": [
                        "noise cancelling",
                        "headphones",
                        "audio"
                    ],
                    "rating": 4.8
                }
            },
            {
                "_index": "products",
                "_id": "P006",
                "_score": 1.0,
                "_source": {
                    "product_id": "P006",
                    "name": "4K Monitor",
                    "description": "Ultra HD 4K monitor with stunning display quality.",
                    "category": "Monitors",
                    "price": 299.99,
                    "stock_quantity": 80,
                    "supplier": "ViewPerfect",
                    "release_date": "2023-06-22",
                    "tags": [
                        "4k",
                        "monitor",
                        "electronics"
                    ],
                    "rating": 4.9
                }
            },
            {
                "_index": "products",
                "_id": "P007",
                "_score": 1.0,
                "_source": {
                    "product_id": "P007",
                    "name": "Gaming Keyboard",
                    "description": "Mechanical keyboard with customizable RGB lighting.",
                    "category": "Gaming",
                    "price": 59.99,
                    "stock_quantity": 120,
                    "supplier": "GameGear",
                    "release_date": "2023-07-30",
                    "tags": [
                        "gaming",
                        "keyboard",
                        "electronics"
                    ],
                    "rating": 4.4
                }
            },
            {
                "_index": "products",
                "_id": "P010",
                "_score": 1.0,
                "_source": {
                    "product_id": "P010",
                    "name": "Smart Thermostat",
                    "description": "Wi-Fi enabled smart thermostat with energy saving features.",
                    "category": "Home Automation",
                    "price": 129.99,
                    "stock_quantity": 90,
                    "supplier": "HomeSmart",
                    "release_date": "2023-10-10",
                    "tags": [
                        "smart",
                        "thermostat",
                        "home automation"
                    ],
                    "rating": 4.7
                }
            },
            {
                "_index": "products",
                "_id": "P012",
                "_score": 1.0,
                "_source": {
                    "product_id": "P012",
                    "name": "Portable Hard Drive",
                    "description": "1TB portable hard drive with fast data transfer.",
                    "category": "Storage",
                    "price": 64.99,
                    "stock_quantity": 110,
                    "supplier": "DataSafe",
                    "release_date": "2023-12-05",
                    "tags": [
                        "portable",
                        "hard drive",
                        "storage"
                    ],
                    "rating": 4.6
                }
            },
            {
                "_index": "products",
                "_id": "P013",
                "_score": 1.0,
                "_source": {
                    "product_id": "P013",
                    "name": "Coffee Maker",
                    "description": "Automatic coffee maker with programmable settings.",
                    "category": "Kitchen Appliances",
                    "price": 79.99,
                    "stock_quantity": 130,
                    "supplier": "BrewMaster",
                    "release_date": "2024-01-10",
                    "tags": [
                        "coffee",
                        "maker",
                        "appliances"
                    ],
                    "rating": 4.4
                }
            },
            {
                "_index": "products",
                "_id": "P016",
                "_score": 1.0,
                "_source": {
                    "product_id": "P016",
                    "name": "Robot Vacuum",
                    "description": "Smart robot vacuum cleaner with scheduling features.",
                    "category": "Home Appliances",
                    "price": 199.99,
                    "stock_quantity": 60,
                    "supplier": "CleanBot",
                    "release_date": "2024-04-25",
                    "tags": [
                        "robot",
                        "vacuum",
                        "home appliances"
                    ],
                    "rating": 4.8
                }
            },
            {
                "_index": "products",
                "_id": "P017",
                "_score": 1.0,
                "_source": {
                    "product_id": "P017",
                    "name": "Digital Camera",
                    "description": "Compact digital camera with high resolution.",
                    "category": "Photography",
                    "price": 149.99,
                    "stock_quantity": 95,
                    "supplier": "PhotoSnap",
                    "release_date": "2024-05-30",
                    "tags": [
                        "digital",
                        "camera",
                        "photography"
                    ],
                    "rating": 4.7
                }
            },
            {
                "_index": "products",
                "_id": "P018",
                "_score": 1.0,
                "_source": {
                    "product_id": "P018",
                    "name": "Smartwatch",
                    "description": "Feature-rich smartwatch with fitness tracking.",
                    "category": "Wearables",
                    "price": 99.99,
                    "stock_quantity": 140,
                    "supplier": "WristTech",
                    "release_date": "2024-06-15",
                    "tags": [
                        "smartwatch",
                        "wearables",
                        "fitness"
                    ],
                    "rating": 4.4
                }
            },
            {
                "_index": "products",
                "_id": "P019",
                "_score": 1.0,
                "_source": {
                    "product_id": "P019",
                    "name": "Air Fryer",
                    "description": "Healthier cooking with a digital air fryer.",
                    "category": "Kitchen Appliances",
                    "price": 89.99,
                    "stock_quantity": 115,
                    "supplier": "HealthyCook",
                    "release_date": "2024-07-20",
                    "tags": [
                        "air fryer",
                        "kitchen",
                        "appliances"
                    ],
                    "rating": 4.6
                }
            }
        ]
    }
}
```

截图




3. 查询库存数量少于100的产品。   


```json
{
  "query": {
    "range": {
      "stock_quantity": {
        "lt": 100
      }
    }
  }
}
```

```查询结果
{
    "took": 33,
    "timed_out": false,
    "_shards": {
        "total": 1,
        "successful": 1,
        "skipped": 0,
        "failed": 0
    },
    "hits": {
        "total": {
            "value": 4,
            "relation": "eq"
        },
        "max_score": 1.0,
        "hits": [
            {
                "_index": "products",
                "_id": "P006",
                "_score": 1.0,
                "_source": {
                    "product_id": "P006",
                    "name": "4K Monitor",
                    "description": "Ultra HD 4K monitor with stunning display quality.",
                    "category": "Monitors",
                    "price": 299.99,
                    "stock_quantity": 80,
                    "supplier": "ViewPerfect",
                    "release_date": "2023-06-22",
                    "tags": [
                        "4k",
                        "monitor",
                        "electronics"
                    ],
                    "rating": 4.9
                }
            },
            {
                "_index": "products",
                "_id": "P010",
                "_score": 1.0,
                "_source": {
                    "product_id": "P010",
                    "name": "Smart Thermostat",
                    "description": "Wi-Fi enabled smart thermostat with energy saving features.",
                    "category": "Home Automation",
                    "price": 129.99,
                    "stock_quantity": 90,
                    "supplier": "HomeSmart",
                    "release_date": "2023-10-10",
                    "tags": [
                        "smart",
                        "thermostat",
                        "home automation"
                    ],
                    "rating": 4.7
                }
            },
            {
                "_index": "products",
                "_id": "P016",
                "_score": 1.0,
                "_source": {
                    "product_id": "P016",
                    "name": "Robot Vacuum",
                    "description": "Smart robot vacuum cleaner with scheduling features.",
                    "category": "Home Appliances",
                    "price": 199.99,
                    "stock_quantity": 60,
                    "supplier": "CleanBot",
                    "release_date": "2024-04-25",
                    "tags": [
                        "robot",
                        "vacuum",
                        "home appliances"
                    ],
                    "rating": 4.8
                }
            },
            {
                "_index": "products",
                "_id": "P017",
                "_score": 1.0,
                "_source": {
                    "product_id": "P017",
                    "name": "Digital Camera",
                    "description": "Compact digital camera with high resolution.",
                    "category": "Photography",
                    "price": 149.99,
                    "stock_quantity": 95,
                    "supplier": "PhotoSnap",
                    "release_date": "2024-05-30",
                    "tags": [
                        "digital",
                        "camera",
                        "photography"
                    ],
                    "rating": 4.7
                }
            }
        ]
    }
}
```

截图





4. 查找评分高于4.5的所有产品。


```json
{
  "query": {
    "range": {
      "rating": {
        "gt": 4.5
      }
    }
  }
}
```

```查询结果
{
    "took": 3,
    "timed_out": false,
    "_shards": {
        "total": 1,
        "successful": 1,
        "skipped": 0,
        "failed": 0
    },
    "hits": {
        "total": {
            "value": 9,
            "relation": "eq"
        },
        "max_score": 1.0,
        "hits": [
            {
                "_index": "products",
                "_id": "P002",
                "_score": 1.0,
                "_source": {
                    "product_id": "P002",
                    "name": "Bluetooth Speaker",
                    "description": "Portable Bluetooth speaker with excellent sound quality.",
                    "category": "Audio",
                    "price": 49.99,
                    "stock_quantity": 200,
                    "supplier": "SoundWave",
                    "release_date": "2023-02-20",
                    "tags": [
                        "bluetooth",
                        "speaker",
                        "audio"
                    ],
                    "rating": 4.7
                }
            },
            {
                "_index": "products",
                "_id": "P004",
                "_score": 1.0,
                "_source": {
                    "product_id": "P004",
                    "name": "USB-C Charger",
                    "description": "Fast charging USB-C charger compatible with most devices.",
                    "category": "Chargers",
                    "price": 19.99,
                    "stock_quantity": 250,
                    "supplier": "ChargeMaster",
                    "release_date": "2023-04-05",
                    "tags": [
                        "usb-c",
                        "charger",
                        "electronics"
                    ],
                    "rating": 4.6
                }
            },
            {
                "_index": "products",
                "_id": "P005",
                "_score": 1.0,
                "_source": {
                    "product_id": "P005",
                    "name": "Noise Cancelling Headphones",
                    "description": "Over-ear headphones with active noise cancellation.",
                    "category": "Audio",
                    "price": 89.99,
                    "stock_quantity": 100,
                    "supplier": "AudioTech",
                    "release_date": "2023-05-18",
                    "tags": [
                        "noise cancelling",
                        "headphones",
                        "audio"
                    ],
                    "rating": 4.8
                }
            },
            {
                "_index": "products",
                "_id": "P006",
                "_score": 1.0,
                "_source": {
                    "product_id": "P006",
                    "name": "4K Monitor",
                    "description": "Ultra HD 4K monitor with stunning display quality.",
                    "category": "Monitors",
                    "price": 299.99,
                    "stock_quantity": 80,
                    "supplier": "ViewPerfect",
                    "release_date": "2023-06-22",
                    "tags": [
                        "4k",
                        "monitor",
                        "electronics"
                    ],
                    "rating": 4.9
                }
            },
            {
                "_index": "products",
                "_id": "P010",
                "_score": 1.0,
                "_source": {
                    "product_id": "P010",
                    "name": "Smart Thermostat",
                    "description": "Wi-Fi enabled smart thermostat with energy saving features.",
                    "category": "Home Automation",
                    "price": 129.99,
                    "stock_quantity": 90,
                    "supplier": "HomeSmart",
                    "release_date": "2023-10-10",
                    "tags": [
                        "smart",
                        "thermostat",
                        "home automation"
                    ],
                    "rating": 4.7
                }
            },
            {
                "_index": "products",
                "_id": "P012",
                "_score": 1.0,
                "_source": {
                    "product_id": "P012",
                    "name": "Portable Hard Drive",
                    "description": "1TB portable hard drive with fast data transfer.",
                    "category": "Storage",
                    "price": 64.99,
                    "stock_quantity": 110,
                    "supplier": "DataSafe",
                    "release_date": "2023-12-05",
                    "tags": [
                        "portable",
                        "hard drive",
                        "storage"
                    ],
                    "rating": 4.6
                }
            },
            {
                "_index": "products",
                "_id": "P016",
                "_score": 1.0,
                "_source": {
                    "product_id": "P016",
                    "name": "Robot Vacuum",
                    "description": "Smart robot vacuum cleaner with scheduling features.",
                    "category": "Home Appliances",
                    "price": 199.99,
                    "stock_quantity": 60,
                    "supplier": "CleanBot",
                    "release_date": "2024-04-25",
                    "tags": [
                        "robot",
                        "vacuum",
                        "home appliances"
                    ],
                    "rating": 4.8
                }
            },
            {
                "_index": "products",
                "_id": "P017",
                "_score": 1.0,
                "_source": {
                    "product_id": "P017",
                    "name": "Digital Camera",
                    "description": "Compact digital camera with high resolution.",
                    "category": "Photography",
                    "price": 149.99,
                    "stock_quantity": 95,
                    "supplier": "PhotoSnap",
                    "release_date": "2024-05-30",
                    "tags": [
                        "digital",
                        "camera",
                        "photography"
                    ],
                    "rating": 4.7
                }
            },
            {
                "_index": "products",
                "_id": "P019",
                "_score": 1.0,
                "_source": {
                    "product_id": "P019",
                    "name": "Air Fryer",
                    "description": "Healthier cooking with a digital air fryer.",
                    "category": "Kitchen Appliances",
                    "price": 89.99,
                    "stock_quantity": 115,
                    "supplier": "HealthyCook",
                    "release_date": "2024-07-20",
                    "tags": [
                        "air fryer",
                        "kitchen",
                        "appliances"
                    ],
                    "rating": 4.6
                }
            }
        ]
    }
}
```

截图






5. 查询标签中包含"smart"的所有产品。


```json
{
  "query": {
    "match": {
      "tags": "smart"
    }
  }
}
```

```查询结果
{
    "took": 1,
    "timed_out": false,
    "_shards": {
        "total": 1,
        "successful": 1,
        "skipped": 0,
        "failed": 0
    },
    "hits": {
        "total": {
            "value": 2,
            "relation": "eq"
        },
        "max_score": 1.9580734,
        "hits": [
            {
                "_index": "products",
                "_id": "P010",
                "_score": 1.9580734,
                "_source": {
                    "product_id": "P010",
                    "name": "Smart Thermostat",
                    "description": "Wi-Fi enabled smart thermostat with energy saving features.",
                    "category": "Home Automation",
                    "price": 129.99,
                    "stock_quantity": 90,
                    "supplier": "HomeSmart",
                    "release_date": "2023-10-10",
                    "tags": [
                        "smart",
                        "thermostat",
                        "home automation"
                    ],
                    "rating": 4.7
                }
            },
            {
                "_index": "products",
                "_id": "P014",
                "_score": 1.9580734,
                "_source": {
                    "product_id": "P014",
                    "name": "Smart Light Bulb",
                    "description": "Color changing smart light bulb with app control.",
                    "category": "Lighting",
                    "price": 14.99,
                    "stock_quantity": 220,
                    "supplier": "LightSmart",
                    "release_date": "2024-02-14",
                    "tags": [
                        "smart",
                        "light bulb",
                        "lighting"
                    ],
                    "rating": 4.2
                }
            }
        ]
    }
}
```

截图



6. 查找供应商为"TechCorp"的产品。


```json
{
  "query": {
    "match": {
      "supplier": "TechCorp"
    }
  }
}
```

```查询结果
{
    "took": 0,
    "timed_out": false,
    "_shards": {
        "total": 1,
        "successful": 1,
        "skipped": 0,
        "failed": 0
    },
    "hits": {
        "total": {
            "value": 1,
            "relation": "eq"
        },
        "max_score": 2.5902672,
        "hits": [
            {
                "_index": "products",
                "_id": "P001",
                "_score": 2.5902672,
                "_source": {
                    "product_id": "P001",
                    "name": "Wireless Mouse",
                    "description": "A high precision wireless mouse with ergonomic design.",
                    "category": "Electronics",
                    "price": 29.99,
                    "stock_quantity": 150,
                    "supplier": "TechCorp",
                    "release_date": "2023-01-15",
                    "tags": [
                        "wireless",
                        "mouse",
                        "electronics"
                    ],
                    "rating": 4.5
                }
            }
        ]
    }
}
```

截图




7. 查询发布日期在2023年6月1日之后的所有产品。

```json
{
  "query": {
    "range": {
      "release_date": {
        "gte": "2023-06-01"
      }
    }
  }
}
```

```查询结果
{
    "took": 1,
    "timed_out": false,
    "_shards": {
        "total": 1,
        "successful": 1,
        "skipped": 0,
        "failed": 0
    },
    "hits": {
        "total": {
            "value": 14,
            "relation": "eq"
        },
        "max_score": 1.0,
        "hits": [
            {
                "_index": "products",
                "_id": "P006",
                "_score": 1.0,
                "_source": {
                    "product_id": "P006",
                    "name": "4K Monitor",
                    "description": "Ultra HD 4K monitor with stunning display quality.",
                    "category": "Monitors",
                    "price": 299.99,
                    "stock_quantity": 80,
                    "supplier": "ViewPerfect",
                    "release_date": "2023-06-22",
                    "tags": [
                        "4k",
                        "monitor",
                        "electronics"
                    ],
                    "rating": 4.9
                }
            },
            {
                "_index": "products",
                "_id": "P007",
                "_score": 1.0,
                "_source": {
                    "product_id": "P007",
                    "name": "Gaming Keyboard",
                    "description": "Mechanical keyboard with customizable RGB lighting.",
                    "category": "Gaming",
                    "price": 59.99,
                    "stock_quantity": 120,
                    "supplier": "GameGear",
                    "release_date": "2023-07-30",
                    "tags": [
                        "gaming",
                        "keyboard",
                        "electronics"
                    ],
                    "rating": 4.4
                }
            },
            {
                "_index": "products",
                "_id": "P008",
                "_score": 1.0,
                "_source": {
                    "product_id": "P008",
                    "name": "Fitness Tracker",
                    "description": "Smart fitness tracker with heart rate monitor.",
                    "category": "Wearables",
                    "price": 39.99,
                    "stock_quantity": 180,
                    "supplier": "FitLife",
                    "release_date": "2023-08-15",
                    "tags": [
                        "fitness",
                        "tracker",
                        "wearables"
                    ],
                    "rating": 4.2
                }
            },
            {
                "_index": "products",
                "_id": "P009",
                "_score": 1.0,
                "_source": {
                    "product_id": "P009",
                    "name": "Electric Toothbrush",
                    "description": "Rechargeable electric toothbrush with multiple modes.",
                    "category": "Personal Care",
                    "price": 34.99,
                    "stock_quantity": 140,
                    "supplier": "SmileBright",
                    "release_date": "2023-09-01",
                    "tags": [
                        "electric",
                        "toothbrush",
                        "personal care"
                    ],
                    "rating": 4.5
                }
            },
            {
                "_index": "products",
                "_id": "P010",
                "_score": 1.0,
                "_source": {
                    "product_id": "P010",
                    "name": "Smart Thermostat",
                    "description": "Wi-Fi enabled smart thermostat with energy saving features.",
                    "category": "Home Automation",
                    "price": 129.99,
                    "stock_quantity": 90,
                    "supplier": "HomeSmart",
                    "release_date": "2023-10-10",
                    "tags": [
                        "smart",
                        "thermostat",
                        "home automation"
                    ],
                    "rating": 4.7
                }
            },
            {
                "_index": "products",
                "_id": "P011",
                "_score": 1.0,
                "_source": {
                    "product_id": "P011",
                    "name": "LED Desk Lamp",
                    "description": "Adjustable LED desk lamp with touch control.",
                    "category": "Lighting",
                    "price": 24.99,
                    "stock_quantity": 160,
                    "supplier": "BrightLight",
                    "release_date": "2023-11-25",
                    "tags": [
                        "led",
                        "desk lamp",
                        "lighting"
                    ],
                    "rating": 4.3
                }
            },
            {
                "_index": "products",
                "_id": "P012",
                "_score": 1.0,
                "_source": {
                    "product_id": "P012",
                    "name": "Portable Hard Drive",
                    "description": "1TB portable hard drive with fast data transfer.",
                    "category": "Storage",
                    "price": 64.99,
                    "stock_quantity": 110,
                    "supplier": "DataSafe",
                    "release_date": "2023-12-05",
                    "tags": [
                        "portable",
                        "hard drive",
                        "storage"
                    ],
                    "rating": 4.6
                }
            },
            {
                "_index": "products",
                "_id": "P013",
                "_score": 1.0,
                "_source": {
                    "product_id": "P013",
                    "name": "Coffee Maker",
                    "description": "Automatic coffee maker with programmable settings.",
                    "category": "Kitchen Appliances",
                    "price": 79.99,
                    "stock_quantity": 130,
                    "supplier": "BrewMaster",
                    "release_date": "2024-01-10",
                    "tags": [
                        "coffee",
                        "maker",
                        "appliances"
                    ],
                    "rating": 4.4
                }
            },
            {
                "_index": "products",
                "_id": "P014",
                "_score": 1.0,
                "_source": {
                    "product_id": "P014",
                    "name": "Smart Light Bulb",
                    "description": "Color changing smart light bulb with app control.",
                    "category": "Lighting",
                    "price": 14.99,
                    "stock_quantity": 220,
                    "supplier": "LightSmart",
                    "release_date": "2024-02-14",
                    "tags": [
                        "smart",
                        "light bulb",
                        "lighting"
                    ],
                    "rating": 4.2
                }
            },
            {
                "_index": "products",
                "_id": "P015",
                "_score": 1.0,
                "_source": {
                    "product_id": "P015",
                    "name": "Electric Kettle",
                    "description": "Quick boil electric kettle with auto shut-off.",
                    "category": "Kitchen Appliances",
                    "price": 29.99,
                    "stock_quantity": 170,
                    "supplier": "QuickBoil",
                    "release_date": "2024-03-20",
                    "tags": [
                        "electric",
                        "kettle",
                        "appliances"
                    ],
                    "rating": 4.5
                }
            }
        ]
    }
}
```

截图



8. 查找描述中包含"wireless"的产品。


```json
{
  "query": {
    "match": {
      "description": "wireless"
    }
  }
}
```

```查询结果
{
    "took": 0,
    "timed_out": false,
    "_shards": {
        "total": 1,
        "successful": 1,
        "skipped": 0,
        "failed": 0
    },
    "hits": {
        "total": {
            "value": 1,
            "relation": "eq"
        },
        "max_score": 2.4792206,
        "hits": [
            {
                "_index": "products",
                "_id": "P001",
                "_score": 2.4792206,
                "_source": {
                    "product_id": "P001",
                    "name": "Wireless Mouse",
                    "description": "A high precision wireless mouse with ergonomic design.",
                    "category": "Electronics",
                    "price": 29.99,
                    "stock_quantity": 150,
                    "supplier": "TechCorp",
                    "release_date": "2023-01-15",
                    "tags": [
                        "wireless",
                        "mouse",
                        "electronics"
                    ],
                    "rating": 4.5
                }
            }
        ]
    }
}
```

截图





9. 查询价格在20美元到100美元之间的所有产品。

```json
{
  "query": {
    "range": {
      "price": {
        "gte": 20,
        "lte": 100
      }
    }
  }
}
```

```查询结果
{
    "took": 1,
    "timed_out": false,
    "_shards": {
        "total": 1,
        "successful": 1,
        "skipped": 0,
        "failed": 0
    },
    "hits": {
        "total": {
            "value": 12,
            "relation": "eq"
        },
        "max_score": 1.0,
        "hits": [
            {
                "_index": "products",
                "_id": "P001",
                "_score": 1.0,
                "_source": {
                    "product_id": "P001",
                    "name": "Wireless Mouse",
                    "description": "A high precision wireless mouse with ergonomic design.",
                    "category": "Electronics",
                    "price": 29.99,
                    "stock_quantity": 150,
                    "supplier": "TechCorp",
                    "release_date": "2023-01-15",
                    "tags": [
                        "wireless",
                        "mouse",
                        "electronics"
                    ],
                    "rating": 4.5
                }
            },
            {
                "_index": "products",
                "_id": "P002",
                "_score": 1.0,
                "_source": {
                    "product_id": "P002",
                    "name": "Bluetooth Speaker",
                    "description": "Portable Bluetooth speaker with excellent sound quality.",
                    "category": "Audio",
                    "price": 49.99,
                    "stock_quantity": 200,
                    "supplier": "SoundWave",
                    "release_date": "2023-02-20",
                    "tags": [
                        "bluetooth",
                        "speaker",
                        "audio"
                    ],
                    "rating": 4.7
                }
            },
            {
                "_index": "products",
                "_id": "P005",
                "_score": 1.0,
                "_source": {
                    "product_id": "P005",
                    "name": "Noise Cancelling Headphones",
                    "description": "Over-ear headphones with active noise cancellation.",
                    "category": "Audio",
                    "price": 89.99,
                    "stock_quantity": 100,
                    "supplier": "AudioTech",
                    "release_date": "2023-05-18",
                    "tags": [
                        "noise cancelling",
                        "headphones",
                        "audio"
                    ],
                    "rating": 4.8
                }
            },
            {
                "_index": "products",
                "_id": "P007",
                "_score": 1.0,
                "_source": {
                    "product_id": "P007",
                    "name": "Gaming Keyboard",
                    "description": "Mechanical keyboard with customizable RGB lighting.",
                    "category": "Gaming",
                    "price": 59.99,
                    "stock_quantity": 120,
                    "supplier": "GameGear",
                    "release_date": "2023-07-30",
                    "tags": [
                        "gaming",
                        "keyboard",
                        "electronics"
                    ],
                    "rating": 4.4
                }
            },
            {
                "_index": "products",
                "_id": "P008",
                "_score": 1.0,
                "_source": {
                    "product_id": "P008",
                    "name": "Fitness Tracker",
                    "description": "Smart fitness tracker with heart rate monitor.",
                    "category": "Wearables",
                    "price": 39.99,
                    "stock_quantity": 180,
                    "supplier": "FitLife",
                    "release_date": "2023-08-15",
                    "tags": [
                        "fitness",
                        "tracker",
                        "wearables"
                    ],
                    "rating": 4.2
                }
            },
            {
                "_index": "products",
                "_id": "P009",
                "_score": 1.0,
                "_source": {
                    "product_id": "P009",
                    "name": "Electric Toothbrush",
                    "description": "Rechargeable electric toothbrush with multiple modes.",
                    "category": "Personal Care",
                    "price": 34.99,
                    "stock_quantity": 140,
                    "supplier": "SmileBright",
                    "release_date": "2023-09-01",
                    "tags": [
                        "electric",
                        "toothbrush",
                        "personal care"
                    ],
                    "rating": 4.5
                }
            },
            {
                "_index": "products",
                "_id": "P011",
                "_score": 1.0,
                "_source": {
                    "product_id": "P011",
                    "name": "LED Desk Lamp",
                    "description": "Adjustable LED desk lamp with touch control.",
                    "category": "Lighting",
                    "price": 24.99,
                    "stock_quantity": 160,
                    "supplier": "BrightLight",
                    "release_date": "2023-11-25",
                    "tags": [
                        "led",
                        "desk lamp",
                        "lighting"
                    ],
                    "rating": 4.3
                }
            },
            {
                "_index": "products",
                "_id": "P012",
                "_score": 1.0,
                "_source": {
                    "product_id": "P012",
                    "name": "Portable Hard Drive",
                    "description": "1TB portable hard drive with fast data transfer.",
                    "category": "Storage",
                    "price": 64.99,
                    "stock_quantity": 110,
                    "supplier": "DataSafe",
                    "release_date": "2023-12-05",
                    "tags": [
                        "portable",
                        "hard drive",
                        "storage"
                    ],
                    "rating": 4.6
                }
            },
            {
                "_index": "products",
                "_id": "P013",
                "_score": 1.0,
                "_source": {
                    "product_id": "P013",
                    "name": "Coffee Maker",
                    "description": "Automatic coffee maker with programmable settings.",
                    "category": "Kitchen Appliances",
                    "price": 79.99,
                    "stock_quantity": 130,
                    "supplier": "BrewMaster",
                    "release_date": "2024-01-10",
                    "tags": [
                        "coffee",
                        "maker",
                        "appliances"
                    ],
                    "rating": 4.4
                }
            },
            {
                "_index": "products",
                "_id": "P015",
                "_score": 1.0,
                "_source": {
                    "product_id": "P015",
                    "name": "Electric Kettle",
                    "description": "Quick boil electric kettle with auto shut-off.",
                    "category": "Kitchen Appliances",
                    "price": 29.99,
                    "stock_quantity": 170,
                    "supplier": "QuickBoil",
                    "release_date": "2024-03-20",
                    "tags": [
                        "electric",
                        "kettle",
                        "appliances"
                    ],
                    "rating": 4.5
                }
            }
        ]
    }
}
```

截图



10. 查找产品名称中包含"Light"的所有产品。

```json
{
  "query": {
    "match": {
      "name": "Light"
    }
  }
}
```

```查询结果
{
    "took": 1,
    "timed_out": false,
    "_shards": {
        "total": 1,
        "successful": 1,
        "skipped": 0,
        "failed": 0
    },
    "hits": {
        "total": {
            "value": 1,
            "relation": "eq"
        },
        "max_score": 2.260063,
        "hits": [
            {
                "_index": "products",
                "_id": "P014",
                "_score": 2.260063,
                "_source": {
                    "product_id": "P014",
                    "name": "Smart Light Bulb",
                    "description": "Color changing smart light bulb with app control.",
                    "category": "Lighting",
                    "price": 14.99,
                    "stock_quantity": 220,
                    "supplier": "LightSmart",
                    "release_date": "2024-02-14",
                    "tags": [
                        "smart",
                        "light bulb",
                        "lighting"
                    ],
                    "rating": 4.2
                }
            }
        ]
    }
}
```

截图







3.订单记录数据

1. 查询所有状态为"completed"的订单的订单ID和总金额。

```json
{
  "query": {
    "match": {
      "status": "completed"
    }
  },
  "_source": ["order_id", "total_amount"]
}
```

```查询结果
{
    "took": 2,
    "timed_out": false,
    "_shards": {
        "total": 1,
        "successful": 1,
        "skipped": 0,
        "failed": 0
    },
    "hits": {
        "total": {
            "value": 8,
            "relation": "eq"
        },
        "max_score": 0.90445626,
        "hits": [
            {
                "_index": "orders",
                "_id": "OR001",
                "_score": 0.90445626,
                "_source": {
                    "order_id": "OR001",
                    "total_amount": 150.75
                }
            },
            {
                "_index": "orders",
                "_id": "OR004",
                "_score": 0.90445626,
                "_source": {
                    "order_id": "OR004",
                    "total_amount": 75.0
                }
            },
            {
                "_index": "orders",
                "_id": "OR006",
                "_score": 0.90445626,
                "_source": {
                    "order_id": "OR006",
                    "total_amount": 300.25
                }
            },
            {
                "_index": "orders",
                "_id": "OR009",
                "_score": 0.90445626,
                "_source": {
                    "order_id": "OR009",
                    "total_amount": 60.0
                }
            },
            {
                "_index": "orders",
                "_id": "OR011",
                "_score": 0.90445626,
                "_source": {
                    "order_id": "OR011",
                    "total_amount": 110.0
                }
            },
            {
                "_index": "orders",
                "_id": "OR014",
                "_score": 0.90445626,
                "_source": {
                    "order_id": "OR014",
                    "total_amount": 90.0
                }
            },
            {
                "_index": "orders",
                "_id": "OR016",
                "_score": 0.90445626,
                "_source": {
                    "order_id": "OR016",
                    "total_amount": 250.0
                }
            },
            {
                "_index": "orders",
                "_id": "OR019",
                "_score": 0.90445626,
                "_source": {
                    "order_id": "OR019",
                    "total_amount": 180.0
                }
            }
        ]
    }
}
```

截图
![img_32.png](pictures/img_32.png)






2. 查找总金额大于100美元的所有订单。


```json
{
  "query": {
    "range": {
      "total_amount": {
        "gt": 100
      }
    }
  }
}
```

```查询结果
{
    "took": 1,
    "timed_out": false,
    "_shards": {
        "total": 1,
        "successful": 1,
        "skipped": 0,
        "failed": 0
    },
    "hits": {
        "total": {
            "value": 11,
            "relation": "eq"
        },
        "max_score": 1.0,
        "hits": [
            {
                "_index": "orders",
                "_id": "OR001",
                "_score": 1.0,
                "_source": {
                    "order_id": "OR001",
                    "customer_id": "C001",
                    "order_date": "2024-01-10",
                    "status": "completed",
                    "total_amount": 150.75,
                    "items": [
                        {
                            "product_id": "P001",
                            "quantity": 2,
                            "price": 50.00
                        },
                        {
                            "product_id": "P002",
                            "quantity": 1,
                            "price": 50.75
                        }
                    ],
                    "shipping_address": "123 Main St, Anytown, USA",
                    "payment_method": "credit_card",
                    "shipping_date": "2024-01-11",
                    "delivery_date": "2024-01-15"
                }
            },
            {
                "_index": "orders",
                "_id": "OR003",
                "_score": 1.0,
                "_source": {
                    "order_id": "OR003",
                    "customer_id": "C003",
                    "order_date": "2024-01-20",
                    "status": "shipped",
                    "total_amount": 120.50,
                    "items": [
                        {
                            "product_id": "P004",
                            "quantity": 3,
                            "price": 40.00
                        }
                    ],
                    "shipping_address": "789 Maple Ave, Sometown, USA",
                    "payment_method": "debit_card",
                    "shipping_date": "2024-01-21",
                    "delivery_date": "2024-01-25"
                }
            },
            {
                "_index": "orders",
                "_id": "OR005",
                "_score": 1.0,
                "_source": {
                    "order_id": "OR005",
                    "customer_id": "C005",
                    "order_date": "2024-02-01",
                    "status": "cancelled",
                    "total_amount": 200.00,
                    "items": [
                        {
                            "product_id": "P006",
                            "quantity": 2,
                            "price": 100.00
                        }
                    ],
                    "shipping_address": "202 Pine St, Otherville, USA",
                    "payment_method": "bank_transfer",
                    "shipping_date": "2024-02-02",
                    "delivery_date": "2024-02-06"
                }
            },
            {
                "_index": "orders",
                "_id": "OR006",
                "_score": 1.0,
                "_source": {
                    "order_id": "OR006",
                    "customer_id": "C006",
                    "order_date": "2024-02-05",
                    "status": "completed",
                    "total_amount": 300.25,
                    "items": [
                        {
                            "product_id": "P007",
                            "quantity": 1,
                            "price": 300.25
                        }
                    ],
                    "shipping_address": "303 Cedar Rd, Newtown, USA",
                    "payment_method": "credit_card",
                    "shipping_date": "2024-02-06",
                    "delivery_date": "2024-02-10"
                }
            },
            {
                "_index": "orders",
                "_id": "OR010",
                "_score": 1.0,
                "_source": {
                    "order_id": "OR010",
                    "customer_id": "C010",
                    "order_date": "2024-02-25",
                    "status": "cancelled",
                    "total_amount": 150.00,
                    "items": [
                        {
                            "product_id": "P011",
                            "quantity": 10,
                            "price": 15.00
                        }
                    ],
                    "shipping_address": "707 Poplar Dr, Smalltown, USA",
                    "payment_method": "bank_transfer",
                    "shipping_date": "2024-02-26",
                    "delivery_date": "2024-03-01"
                }
            },
            {
                "_index": "orders",
                "_id": "OR011",
                "_score": 1.0,
                "_source": {
                    "order_id": "OR011",
                    "customer_id": "C011",
                    "order_date": "2024-03-01",
                    "status": "completed",
                    "total_amount": 110.00,
                    "items": [
                        {
                            "product_id": "P012",
                            "quantity": 2,
                            "price": 55.00
                        }
                    ],
                    "shipping_address": "808 Chestnut Blvd, Metropolis, USA",
                    "payment_method": "credit_card",
                    "shipping_date": "2024-03-02",
                    "delivery_date": "2024-03-06"
                }
            },
            {
                "_index": "orders",
                "_id": "OR013",
                "_score": 1.0,
                "_source": {
                    "order_id": "OR013",
                    "customer_id": "C013",
                    "order_date": "2024-03-10",
                    "status": "shipped",
                    "total_amount": 200.00,
                    "items": [
                        {
                            "product_id": "P014",
                            "quantity": 4,
                            "price": 50.00
                        }
                    ],
                    "shipping_address": "1010 Fir Ln, Hamlet, USA",
                    "payment_method": "debit_card",
                    "shipping_date": "2024-03-11",
                    "delivery_date": "2024-03-15"
                }
            },
            {
                "_index": "orders",
                "_id": "OR015",
                "_score": 1.0,
                "_source": {
                    "order_id": "OR015",
                    "customer_id": "C015",
                    "order_date": "2024-03-20",
                    "status": "cancelled",
                    "total_amount": 135.00,
                    "items": [
                        {
                            "product_id": "P016",
                            "quantity": 9,
                            "price": 15.00
                        }
                    ],
                    "shipping_address": "1212 Redwood Rd, Cityville, USA",
                    "payment_method": "bank_transfer",
                    "shipping_date": "2024-03-21",
                    "delivery_date": "2024-03-25"
                }
            },
            {
                "_index": "orders",
                "_id": "OR016",
                "_score": 1.0,
                "_source": {
                    "order_id": "OR016",
                    "customer_id": "C016",
                    "order_date": "2024-03-25",
                    "status": "completed",
                    "total_amount": 250.00,
                    "items": [
                        {
                            "product_id": "P017",
                            "quantity": 5,
                            "price": 50.00
                        }
                    ],
                    "shipping_address": "1313 Cherry Ave, Urbantown, USA",
                    "payment_method": "credit_card",
                    "shipping_date": "2024-03-26",
                    "delivery_date": "2024-03-30"
                }
            },
            {
                "_index": "orders",
                "_id": "OR019",
                "_score": 1.0,
                "_source": {
                    "order_id": "OR019",
                    "customer_id": "C019",
                    "order_date": "2024-04-09",
                    "status": "completed",
                    "total_amount": 180.00,
                    "items": [
                        {
                            "product_id": "P020",
                            "quantity": 6,
                            "price": 30.00
                        }
                    ],
                    "shipping_address": "1616 Pine St, Uptown, USA",
                    "payment_method": "credit_card",
                    "shipping_date": "2024-04-10",
                    "delivery_date": "2024-04-14"
                }
            }
        ]
    }
}
```

截图






3. 查询支付方式为"paypal"的订单。


```json
{
  "query": {
    "match": {
      "payment_method": "paypal"
    }
  }
}
```

```查询结果
{
    "took": 1,
    "timed_out": false,
    "_shards": {
        "total": 1,
        "successful": 1,
        "skipped": 0,
        "failed": 0
    },
    "hits": {
        "total": {
            "value": 4,
            "relation": "eq"
        },
        "max_score": 1.540445,
        "hits": [
            {
                "_index": "orders",
                "_id": "OR002",
                "_score": 1.540445,
                "_source": {
                    "order_id": "OR002",
                    "customer_id": "C002",
                    "order_date": "2024-01-15",
                    "status": "pending",
                    "total_amount": 89.99,
                    "items": [
                        {
                            "product_id": "P003",
                            "quantity": 1,
                            "price": 89.99
                        }
                    ],
                    "shipping_address": "456 Elm St, Othertown, USA",
                    "payment_method": "paypal",
                    "shipping_date": "2024-01-16",
                    "delivery_date": "2024-01-20"
                }
            },
            {
                "_index": "orders",
                "_id": "OR007",
                "_score": 1.540445,
                "_source": {
                    "order_id": "OR007",
                    "customer_id": "C007",
                    "order_date": "2024-02-10",
                    "status": "pending",
                    "total_amount": 45.99,
                    "items": [
                        {
                            "product_id": "P008",
                            "quantity": 3,
                            "price": 15.33
                        }
                    ],
                    "shipping_address": "404 Birch Ln, Oldtown, USA",
                    "payment_method": "paypal",
                    "shipping_date": "2024-02-11",
                    "delivery_date": "2024-02-15"
                }
            },
            {
                "_index": "orders",
                "_id": "OR012",
                "_score": 1.540445,
                "_source": {
                    "order_id": "OR012",
                    "customer_id": "C012",
                    "order_date": "2024-03-05",
                    "status": "pending",
                    "total_amount": 75.99,
                    "items": [
                        {
                            "product_id": "P013",
                            "quantity": 3,
                            "price": 25.33
                        }
                    ],
                    "shipping_address": "909 Ash Ct, Villagetown, USA",
                    "payment_method": "paypal",
                    "shipping_date": "2024-03-06",
                    "delivery_date": "2024-03-10"
                }
            },
            {
                "_index": "orders",
                "_id": "OR017",
                "_score": 1.540445,
                "_source": {
                    "order_id": "OR017",
                    "customer_id": "C017",
                    "order_date": "2024-03-30",
                    "status": "pending",
                    "total_amount": 60.00,
                    "items": [
                        {
                            "product_id": "P018",
                            "quantity": 2,
                            "price": 30.00
                        }
                    ],
                    "shipping_address": "1414 Beech St, Suburbia, USA",
                    "payment_method": "paypal",
                    "shipping_date": "2024-03-31",
                    "delivery_date": "2024-04-04"
                }
            }
        ]
    }
}
```

截图








4. 查找订单日期在2024年2月之后的所有订单。

```json
{
  "query": {
    "range": {
      "order_date": {
        "gte": "2024-02-01"
      }
    }
  }
}
```

```查询结果
{
    "took": 1,
    "timed_out": false,
    "_shards": {
        "total": 1,
        "successful": 1,
        "skipped": 0,
        "failed": 0
    },
    "hits": {
        "total": {
            "value": 16,
            "relation": "eq"
        },
        "max_score": 1.0,
        "hits": [
            {
                "_index": "orders",
                "_id": "OR005",
                "_score": 1.0,
                "_source": {
                    "order_id": "OR005",
                    "customer_id": "C005",
                    "order_date": "2024-02-01",
                    "status": "cancelled",
                    "total_amount": 200.00,
                    "items": [
                        {
                            "product_id": "P006",
                            "quantity": 2,
                            "price": 100.00
                        }
                    ],
                    "shipping_address": "202 Pine St, Otherville, USA",
                    "payment_method": "bank_transfer",
                    "shipping_date": "2024-02-02",
                    "delivery_date": "2024-02-06"
                }
            },
            {
                "_index": "orders",
                "_id": "OR006",
                "_score": 1.0,
                "_source": {
                    "order_id": "OR006",
                    "customer_id": "C006",
                    "order_date": "2024-02-05",
                    "status": "completed",
                    "total_amount": 300.25,
                    "items": [
                        {
                            "product_id": "P007",
                            "quantity": 1,
                            "price": 300.25
                        }
                    ],
                    "shipping_address": "303 Cedar Rd, Newtown, USA",
                    "payment_method": "credit_card",
                    "shipping_date": "2024-02-06",
                    "delivery_date": "2024-02-10"
                }
            },
            {
                "_index": "orders",
                "_id": "OR007",
                "_score": 1.0,
                "_source": {
                    "order_id": "OR007",
                    "customer_id": "C007",
                    "order_date": "2024-02-10",
                    "status": "pending",
                    "total_amount": 45.99,
                    "items": [
                        {
                            "product_id": "P008",
                            "quantity": 3,
                            "price": 15.33
                        }
                    ],
                    "shipping_address": "404 Birch Ln, Oldtown, USA",
                    "payment_method": "paypal",
                    "shipping_date": "2024-02-11",
                    "delivery_date": "2024-02-15"
                }
            },
            {
                "_index": "orders",
                "_id": "OR008",
                "_score": 1.0,
                "_source": {
                    "order_id": "OR008",
                    "customer_id": "C008",
                    "order_date": "2024-02-15",
                    "status": "shipped",
                    "total_amount": 89.50,
                    "items": [
                        {
                            "product_id": "P009",
                            "quantity": 2,
                            "price": 44.75
                        }
                    ],
                    "shipping_address": "505 Spruce St, Littletown, USA",
                    "payment_method": "debit_card",
                    "shipping_date": "2024-02-16",
                    "delivery_date": "2024-02-20"
                }
            },
            {
                "_index": "orders",
                "_id": "OR009",
                "_score": 1.0,
                "_source": {
                    "order_id": "OR009",
                    "customer_id": "C009",
                    "order_date": "2024-02-20",
                    "status": "completed",
                    "total_amount": 60.00,
                    "items": [
                        {
                            "product_id": "P010",
                            "quantity": 4,
                            "price": 15.00
                        }
                    ],
                    "shipping_address": "606 Willow Ave, Bigcity, USA",
                    "payment_method": "credit_card",
                    "shipping_date": "2024-02-21",
                    "delivery_date": "2024-02-25"
                }
            },
            {
                "_index": "orders",
                "_id": "OR010",
                "_score": 1.0,
                "_source": {
                    "order_id": "OR010",
                    "customer_id": "C010",
                    "order_date": "2024-02-25",
                    "status": "cancelled",
                    "total_amount": 150.00,
                    "items": [
                        {
                            "product_id": "P011",
                            "quantity": 10,
                            "price": 15.00
                        }
                    ],
                    "shipping_address": "707 Poplar Dr, Smalltown, USA",
                    "payment_method": "bank_transfer",
                    "shipping_date": "2024-02-26",
                    "delivery_date": "2024-03-01"
                }
            },
            {
                "_index": "orders",
                "_id": "OR011",
                "_score": 1.0,
                "_source": {
                    "order_id": "OR011",
                    "customer_id": "C011",
                    "order_date": "2024-03-01",
                    "status": "completed",
                    "total_amount": 110.00,
                    "items": [
                        {
                            "product_id": "P012",
                            "quantity": 2,
                            "price": 55.00
                        }
                    ],
                    "shipping_address": "808 Chestnut Blvd, Metropolis, USA",
                    "payment_method": "credit_card",
                    "shipping_date": "2024-03-02",
                    "delivery_date": "2024-03-06"
                }
            },
            {
                "_index": "orders",
                "_id": "OR012",
                "_score": 1.0,
                "_source": {
                    "order_id": "OR012",
                    "customer_id": "C012",
                    "order_date": "2024-03-05",
                    "status": "pending",
                    "total_amount": 75.99,
                    "items": [
                        {
                            "product_id": "P013",
                            "quantity": 3,
                            "price": 25.33
                        }
                    ],
                    "shipping_address": "909 Ash Ct, Villagetown, USA",
                    "payment_method": "paypal",
                    "shipping_date": "2024-03-06",
                    "delivery_date": "2024-03-10"
                }
            },
            {
                "_index": "orders",
                "_id": "OR013",
                "_score": 1.0,
                "_source": {
                    "order_id": "OR013",
                    "customer_id": "C013",
                    "order_date": "2024-03-10",
                    "status": "shipped",
                    "total_amount": 200.00,
                    "items": [
                        {
                            "product_id": "P014",
                            "quantity": 4,
                            "price": 50.00
                        }
                    ],
                    "shipping_address": "1010 Fir Ln, Hamlet, USA",
                    "payment_method": "debit_card",
                    "shipping_date": "2024-03-11",
                    "delivery_date": "2024-03-15"
                }
            },
            {
                "_index": "orders",
                "_id": "OR014",
                "_score": 1.0,
                "_source": {
                    "order_id": "OR014",
                    "customer_id": "C014",
                    "order_date": "2024-03-15",
                    "status": "completed",
                    "total_amount": 90.00,
                    "items": [
                        {
                            "product_id": "P015",
                            "quantity": 6,
                            "price": 15.00
                        }
                    ],
                    "shipping_address": "1111 Cypress St, Township, USA",
                    "payment_method": "credit_card",
                    "shipping_date": "2024-03-16",
                    "delivery_date": "2024-03-20"
                }
            }
        ]
    }
}
```

截图



5. 查询包含产品ID为"P001"的订单。

```json
{
  "query": {
    "bool": {
      "must": [
        {
          "match": {
            "items.product_id": "P001"
          }
        }
      ]
    }
  }
}
```

```查询结果
{
    "took": 0,
    "timed_out": false,
    "_shards": {
        "total": 1,
        "successful": 1,
        "skipped": 0,
        "failed": 0
    },
    "hits": {
        "total": {
            "value": 1,
            "relation": "eq"
        },
        "max_score": 1.9261367,
        "hits": [
            {
                "_index": "orders",
                "_id": "OR001",
                "_score": 1.9261367,
                "_source": {
                    "order_id": "OR001",
                    "customer_id": "C001",
                    "order_date": "2024-01-10",
                    "status": "completed",
                    "total_amount": 150.75,
                    "items": [
                        {
                            "product_id": "P001",
                            "quantity": 2,
                            "price": 50.00
                        },
                        {
                            "product_id": "P002",
                            "quantity": 1,
                            "price": 50.75
                        }
                    ],
                    "shipping_address": "123 Main St, Anytown, USA",
                    "payment_method": "credit_card",
                    "shipping_date": "2024-01-11",
                    "delivery_date": "2024-01-15"
                }
            }
        ]
    }
}
```

截图




6. 查找所有状态为"cancelled"的订单的客户ID。

```json
{
  "query": {
    "match": {
      "status": "cancelled"
    }
  },
  "_source": ["customer_id"]
}
```

```查询结果
{
    "took": 1,
    "timed_out": false,
    "_shards": {
        "total": 1,
        "successful": 1,
        "skipped": 0,
        "failed": 0
    },
    "hits": {
        "total": {
            "value": 4,
            "relation": "eq"
        },
        "max_score": 1.540445,
        "hits": [
            {
                "_index": "orders",
                "_id": "OR005",
                "_score": 1.540445,
                "_source": {
                    "customer_id": "C005"
                }
            },
            {
                "_index": "orders",
                "_id": "OR010",
                "_score": 1.540445,
                "_source": {
                    "customer_id": "C010"
                }
            },
            {
                "_index": "orders",
                "_id": "OR015",
                "_score": 1.540445,
                "_source": {
                    "customer_id": "C015"
                }
            },
            {
                "_index": "orders",
                "_id": "OR020",
                "_score": 1.540445,
                "_source": {
                    "customer_id": "C020"
                }
            }
        ]
    }
}
```

截图



7. 查询发货日期在2024年1月15日之前的订单。

```json
{
  "query": {
    "range": {
      "shipping_date": {
        "lt": "2024-01-15"
      }
    }
  }
}
```

```查询结果
{
    "took": 1,
    "timed_out": false,
    "_shards": {
        "total": 1,
        "successful": 1,
        "skipped": 0,
        "failed": 0
    },
    "hits": {
        "total": {
            "value": 1,
            "relation": "eq"
        },
        "max_score": 1.0,
        "hits": [
            {
                "_index": "orders",
                "_id": "OR001",
                "_score": 1.0,
                "_source": {
                    "order_id": "OR001",
                    "customer_id": "C001",
                    "order_date": "2024-01-10",
                    "status": "completed",
                    "total_amount": 150.75,
                    "items": [
                        {
                            "product_id": "P001",
                            "quantity": 2,
                            "price": 50.00
                        },
                        {
                            "product_id": "P002",
                            "quantity": 1,
                            "price": 50.75
                        }
                    ],
                    "shipping_address": "123 Main St, Anytown, USA",
                    "payment_method": "credit_card",
                    "shipping_date": "2024-01-11",
                    "delivery_date": "2024-01-15"
                }
            }
        ]
    }
}
```

截图





8. 查找使用"credit_card"支付的订单。


```json
{
  "query": {
    "term": {
      "payment_method.keyword": {
        "value": "credit_card"
      }
    }
  }
}
```

```查询结果
{
    "took": 0,
    "timed_out": false,
    "_shards": {
        "total": 1,
        "successful": 1,
        "skipped": 0,
        "failed": 0
    },
    "hits": {
        "total": {
            "value": 8,
            "relation": "eq"
        },
        "max_score": 0.90445626,
        "hits": [
            {
                "_index": "orders",
                "_id": "OR001",
                "_score": 0.90445626,
                "_source": {
                    "order_id": "OR001",
                    "customer_id": "C001",
                    "order_date": "2024-01-10",
                    "status": "completed",
                    "total_amount": 150.75,
                    "items": [
                        {
                            "product_id": "P001",
                            "quantity": 2,
                            "price": 50.00
                        },
                        {
                            "product_id": "P002",
                            "quantity": 1,
                            "price": 50.75
                        }
                    ],
                    "shipping_address": "123 Main St, Anytown, USA",
                    "payment_method": "credit_card",
                    "shipping_date": "2024-01-11",
                    "delivery_date": "2024-01-15"
                }
            },
            {
                "_index": "orders",
                "_id": "OR004",
                "_score": 0.90445626,
                "_source": {
                    "order_id": "OR004",
                    "customer_id": "C004",
                    "order_date": "2024-01-25",
                    "status": "completed",
                    "total_amount": 75.00,
                    "items": [
                        {
                            "product_id": "P005",
                            "quantity": 5,
                            "price": 15.00
                        }
                    ],
                    "shipping_address": "101 Oak St, Anycity, USA",
                    "payment_method": "credit_card",
                    "shipping_date": "2024-01-26",
                    "delivery_date": "2024-01-30"
                }
            },
            {
                "_index": "orders",
                "_id": "OR006",
                "_score": 0.90445626,
                "_source": {
                    "order_id": "OR006",
                    "customer_id": "C006",
                    "order_date": "2024-02-05",
                    "status": "completed",
                    "total_amount": 300.25,
                    "items": [
                        {
                            "product_id": "P007",
                            "quantity": 1,
                            "price": 300.25
                        }
                    ],
                    "shipping_address": "303 Cedar Rd, Newtown, USA",
                    "payment_method": "credit_card",
                    "shipping_date": "2024-02-06",
                    "delivery_date": "2024-02-10"
                }
            },
            {
                "_index": "orders",
                "_id": "OR009",
                "_score": 0.90445626,
                "_source": {
                    "order_id": "OR009",
                    "customer_id": "C009",
                    "order_date": "2024-02-20",
                    "status": "completed",
                    "total_amount": 60.00,
                    "items": [
                        {
                            "product_id": "P010",
                            "quantity": 4,
                            "price": 15.00
                        }
                    ],
                    "shipping_address": "606 Willow Ave, Bigcity, USA",
                    "payment_method": "credit_card",
                    "shipping_date": "2024-02-21",
                    "delivery_date": "2024-02-25"
                }
            },
            {
                "_index": "orders",
                "_id": "OR011",
                "_score": 0.90445626,
                "_source": {
                    "order_id": "OR011",
                    "customer_id": "C011",
                    "order_date": "2024-03-01",
                    "status": "completed",
                    "total_amount": 110.00,
                    "items": [
                        {
                            "product_id": "P012",
                            "quantity": 2,
                            "price": 55.00
                        }
                    ],
                    "shipping_address": "808 Chestnut Blvd, Metropolis, USA",
                    "payment_method": "credit_card",
                    "shipping_date": "2024-03-02",
                    "delivery_date": "2024-03-06"
                }
            },
            {
                "_index": "orders",
                "_id": "OR014",
                "_score": 0.90445626,
                "_source": {
                    "order_id": "OR014",
                    "customer_id": "C014",
                    "order_date": "2024-03-15",
                    "status": "completed",
                    "total_amount": 90.00,
                    "items": [
                        {
                            "product_id": "P015",
                            "quantity": 6,
                            "price": 15.00
                        }
                    ],
                    "shipping_address": "1111 Cypress St, Township, USA",
                    "payment_method": "credit_card",
                    "shipping_date": "2024-03-16",
                    "delivery_date": "2024-03-20"
                }
            },
            {
                "_index": "orders",
                "_id": "OR016",
                "_score": 0.90445626,
                "_source": {
                    "order_id": "OR016",
                    "customer_id": "C016",
                    "order_date": "2024-03-25",
                    "status": "completed",
                    "total_amount": 250.00,
                    "items": [
                        {
                            "product_id": "P017",
                            "quantity": 5,
                            "price": 50.00
                        }
                    ],
                    "shipping_address": "1313 Cherry Ave, Urbantown, USA",
                    "payment_method": "credit_card",
                    "shipping_date": "2024-03-26",
                    "delivery_date": "2024-03-30"
                }
            },
            {
                "_index": "orders",
                "_id": "OR019",
                "_score": 0.90445626,
                "_source": {
                    "order_id": "OR019",
                    "customer_id": "C019",
                    "order_date": "2024-04-09",
                    "status": "completed",
                    "total_amount": 180.00,
                    "items": [
                        {
                            "product_id": "P020",
                            "quantity": 6,
                            "price": 30.00
                        }
                    ],
                    "shipping_address": "1616 Pine St, Uptown, USA",
                    "payment_method": "credit_card",
                    "shipping_date": "2024-04-10",
                    "delivery_date": "2024-04-14"
                }
            }
        ]
    }
}
```

截图





9. 查询总金额在50美元到200美元之间的所有订单。

```json
{
  "query": {
    "range": {
      "total_amount": {
        "gte": 50,
        "lte": 200
      }
    }
  }
}
```

```查询结果
{
    "took": 2,
    "timed_out": false,
    "_shards": {
        "total": 1,
        "successful": 1,
        "skipped": 0,
        "failed": 0
    },
    "hits": {
        "total": {
            "value": 16,
            "relation": "eq"
        },
        "max_score": 1.0,
        "hits": [
            {
                "_index": "orders",
                "_id": "OR001",
                "_score": 1.0,
                "_source": {
                    "order_id": "OR001",
                    "customer_id": "C001",
                    "order_date": "2024-01-10",
                    "status": "completed",
                    "total_amount": 150.75,
                    "items": [
                        {
                            "product_id": "P001",
                            "quantity": 2,
                            "price": 50.00
                        },
                        {
                            "product_id": "P002",
                            "quantity": 1,
                            "price": 50.75
                        }
                    ],
                    "shipping_address": "123 Main St, Anytown, USA",
                    "payment_method": "credit_card",
                    "shipping_date": "2024-01-11",
                    "delivery_date": "2024-01-15"
                }
            },
            {
                "_index": "orders",
                "_id": "OR002",
                "_score": 1.0,
                "_source": {
                    "order_id": "OR002",
                    "customer_id": "C002",
                    "order_date": "2024-01-15",
                    "status": "pending",
                    "total_amount": 89.99,
                    "items": [
                        {
                            "product_id": "P003",
                            "quantity": 1,
                            "price": 89.99
                        }
                    ],
                    "shipping_address": "456 Elm St, Othertown, USA",
                    "payment_method": "paypal",
                    "shipping_date": "2024-01-16",
                    "delivery_date": "2024-01-20"
                }
            },
            {
                "_index": "orders",
                "_id": "OR003",
                "_score": 1.0,
                "_source": {
                    "order_id": "OR003",
                    "customer_id": "C003",
                    "order_date": "2024-01-20",
                    "status": "shipped",
                    "total_amount": 120.50,
                    "items": [
                        {
                            "product_id": "P004",
                            "quantity": 3,
                            "price": 40.00
                        }
                    ],
                    "shipping_address": "789 Maple Ave, Sometown, USA",
                    "payment_method": "debit_card",
                    "shipping_date": "2024-01-21",
                    "delivery_date": "2024-01-25"
                }
            },
            {
                "_index": "orders",
                "_id": "OR004",
                "_score": 1.0,
                "_source": {
                    "order_id": "OR004",
                    "customer_id": "C004",
                    "order_date": "2024-01-25",
                    "status": "completed",
                    "total_amount": 75.00,
                    "items": [
                        {
                            "product_id": "P005",
                            "quantity": 5,
                            "price": 15.00
                        }
                    ],
                    "shipping_address": "101 Oak St, Anycity, USA",
                    "payment_method": "credit_card",
                    "shipping_date": "2024-01-26",
                    "delivery_date": "2024-01-30"
                }
            },
            {
                "_index": "orders",
                "_id": "OR005",
                "_score": 1.0,
                "_source": {
                    "order_id": "OR005",
                    "customer_id": "C005",
                    "order_date": "2024-02-01",
                    "status": "cancelled",
                    "total_amount": 200.00,
                    "items": [
                        {
                            "product_id": "P006",
                            "quantity": 2,
                            "price": 100.00
                        }
                    ],
                    "shipping_address": "202 Pine St, Otherville, USA",
                    "payment_method": "bank_transfer",
                    "shipping_date": "2024-02-02",
                    "delivery_date": "2024-02-06"
                }
            },
            {
                "_index": "orders",
                "_id": "OR008",
                "_score": 1.0,
                "_source": {
                    "order_id": "OR008",
                    "customer_id": "C008",
                    "order_date": "2024-02-15",
                    "status": "shipped",
                    "total_amount": 89.50,
                    "items": [
                        {
                            "product_id": "P009",
                            "quantity": 2,
                            "price": 44.75
                        }
                    ],
                    "shipping_address": "505 Spruce St, Littletown, USA",
                    "payment_method": "debit_card",
                    "shipping_date": "2024-02-16",
                    "delivery_date": "2024-02-20"
                }
            },
            {
                "_index": "orders",
                "_id": "OR009",
                "_score": 1.0,
                "_source": {
                    "order_id": "OR009",
                    "customer_id": "C009",
                    "order_date": "2024-02-20",
                    "status": "completed",
                    "total_amount": 60.00,
                    "items": [
                        {
                            "product_id": "P010",
                            "quantity": 4,
                            "price": 15.00
                        }
                    ],
                    "shipping_address": "606 Willow Ave, Bigcity, USA",
                    "payment_method": "credit_card",
                    "shipping_date": "2024-02-21",
                    "delivery_date": "2024-02-25"
                }
            },
            {
                "_index": "orders",
                "_id": "OR010",
                "_score": 1.0,
                "_source": {
                    "order_id": "OR010",
                    "customer_id": "C010",
                    "order_date": "2024-02-25",
                    "status": "cancelled",
                    "total_amount": 150.00,
                    "items": [
                        {
                            "product_id": "P011",
                            "quantity": 10,
                            "price": 15.00
                        }
                    ],
                    "shipping_address": "707 Poplar Dr, Smalltown, USA",
                    "payment_method": "bank_transfer",
                    "shipping_date": "2024-02-26",
                    "delivery_date": "2024-03-01"
                }
            },
            {
                "_index": "orders",
                "_id": "OR011",
                "_score": 1.0,
                "_source": {
                    "order_id": "OR011",
                    "customer_id": "C011",
                    "order_date": "2024-03-01",
                    "status": "completed",
                    "total_amount": 110.00,
                    "items": [
                        {
                            "product_id": "P012",
                            "quantity": 2,
                            "price": 55.00
                        }
                    ],
                    "shipping_address": "808 Chestnut Blvd, Metropolis, USA",
                    "payment_method": "credit_card",
                    "shipping_date": "2024-03-02",
                    "delivery_date": "2024-03-06"
                }
            },
            {
                "_index": "orders",
                "_id": "OR012",
                "_score": 1.0,
                "_source": {
                    "order_id": "OR012",
                    "customer_id": "C012",
                    "order_date": "2024-03-05",
                    "status": "pending",
                    "total_amount": 75.99,
                    "items": [
                        {
                            "product_id": "P013",
                            "quantity": 3,
                            "price": 25.33
                        }
                    ],
                    "shipping_address": "909 Ash Ct, Villagetown, USA",
                    "payment_method": "paypal",
                    "shipping_date": "2024-03-06",
                    "delivery_date": "2024-03-10"
                }
            }
        ]
    }
}
```

截图




10. 查找订单ID中包含"OR01"的所有订单。

```json
{
   "query": {
      "prefix": {
         "order_id.keyword": "OR01"
      }
   }
}
```

```查询结果
{
    "took": 0,
    "timed_out": false,
    "_shards": {
        "total": 1,
        "successful": 1,
        "skipped": 0,
        "failed": 0
    },
    "hits": {
        "total": {
            "value": 10,
            "relation": "eq"
        },
        "max_score": 1.0,
        "hits": [
            {
                "_index": "orders",
                "_id": "OR010",
                "_score": 1.0,
                "_source": {
                    "order_id": "OR010",
                    "customer_id": "C010",
                    "order_date": "2024-02-25",
                    "status": "cancelled",
                    "total_amount": 150.00,
                    "items": [
                        {
                            "product_id": "P011",
                            "quantity": 10,
                            "price": 15.00
                        }
                    ],
                    "shipping_address": "707 Poplar Dr, Smalltown, USA",
                    "payment_method": "bank_transfer",
                    "shipping_date": "2024-02-26",
                    "delivery_date": "2024-03-01"
                }
            },
            {
                "_index": "orders",
                "_id": "OR011",
                "_score": 1.0,
                "_source": {
                    "order_id": "OR011",
                    "customer_id": "C011",
                    "order_date": "2024-03-01",
                    "status": "completed",
                    "total_amount": 110.00,
                    "items": [
                        {
                            "product_id": "P012",
                            "quantity": 2,
                            "price": 55.00
                        }
                    ],
                    "shipping_address": "808 Chestnut Blvd, Metropolis, USA",
                    "payment_method": "credit_card",
                    "shipping_date": "2024-03-02",
                    "delivery_date": "2024-03-06"
                }
            },
            {
                "_index": "orders",
                "_id": "OR012",
                "_score": 1.0,
                "_source": {
                    "order_id": "OR012",
                    "customer_id": "C012",
                    "order_date": "2024-03-05",
                    "status": "pending",
                    "total_amount": 75.99,
                    "items": [
                        {
                            "product_id": "P013",
                            "quantity": 3,
                            "price": 25.33
                        }
                    ],
                    "shipping_address": "909 Ash Ct, Villagetown, USA",
                    "payment_method": "paypal",
                    "shipping_date": "2024-03-06",
                    "delivery_date": "2024-03-10"
                }
            },
            {
                "_index": "orders",
                "_id": "OR013",
                "_score": 1.0,
                "_source": {
                    "order_id": "OR013",
                    "customer_id": "C013",
                    "order_date": "2024-03-10",
                    "status": "shipped",
                    "total_amount": 200.00,
                    "items": [
                        {
                            "product_id": "P014",
                            "quantity": 4,
                            "price": 50.00
                        }
                    ],
                    "shipping_address": "1010 Fir Ln, Hamlet, USA",
                    "payment_method": "debit_card",
                    "shipping_date": "2024-03-11",
                    "delivery_date": "2024-03-15"
                }
            },
            {
                "_index": "orders",
                "_id": "OR014",
                "_score": 1.0,
                "_source": {
                    "order_id": "OR014",
                    "customer_id": "C014",
                    "order_date": "2024-03-15",
                    "status": "completed",
                    "total_amount": 90.00,
                    "items": [
                        {
                            "product_id": "P015",
                            "quantity": 6,
                            "price": 15.00
                        }
                    ],
                    "shipping_address": "1111 Cypress St, Township, USA",
                    "payment_method": "credit_card",
                    "shipping_date": "2024-03-16",
                    "delivery_date": "2024-03-20"
                }
            },
            {
                "_index": "orders",
                "_id": "OR015",
                "_score": 1.0,
                "_source": {
                    "order_id": "OR015",
                    "customer_id": "C015",
                    "order_date": "2024-03-20",
                    "status": "cancelled",
                    "total_amount": 135.00,
                    "items": [
                        {
                            "product_id": "P016",
                            "quantity": 9,
                            "price": 15.00
                        }
                    ],
                    "shipping_address": "1212 Redwood Rd, Cityville, USA",
                    "payment_method": "bank_transfer",
                    "shipping_date": "2024-03-21",
                    "delivery_date": "2024-03-25"
                }
            },
            {
                "_index": "orders",
                "_id": "OR016",
                "_score": 1.0,
                "_source": {
                    "order_id": "OR016",
                    "customer_id": "C016",
                    "order_date": "2024-03-25",
                    "status": "completed",
                    "total_amount": 250.00,
                    "items": [
                        {
                            "product_id": "P017",
                            "quantity": 5,
                            "price": 50.00
                        }
                    ],
                    "shipping_address": "1313 Cherry Ave, Urbantown, USA",
                    "payment_method": "credit_card",
                    "shipping_date": "2024-03-26",
                    "delivery_date": "2024-03-30"
                }
            },
            {
                "_index": "orders",
                "_id": "OR017",
                "_score": 1.0,
                "_source": {
                    "order_id": "OR017",
                    "customer_id": "C017",
                    "order_date": "2024-03-30",
                    "status": "pending",
                    "total_amount": 60.00,
                    "items": [
                        {
                            "product_id": "P018",
                            "quantity": 2,
                            "price": 30.00
                        }
                    ],
                    "shipping_address": "1414 Beech St, Suburbia, USA",
                    "payment_method": "paypal",
                    "shipping_date": "2024-03-31",
                    "delivery_date": "2024-04-04"
                }
            },
            {
                "_index": "orders",
                "_id": "OR018",
                "_score": 1.0,
                "_source": {
                    "order_id": "OR018",
                    "customer_id": "C018",
                    "order_date": "2024-04-04",
                    "status": "shipped",
                    "total_amount": 100.00,
                    "items": [
                        {
                            "product_id": "P019",
                            "quantity": 4,
                            "price": 25.00
                        }
                    ],
                    "shipping_address": "1515 Palm Dr, Downtown, USA",
                    "payment_method": "debit_card",
                    "shipping_date": "2024-04-05",
                    "delivery_date": "2024-04-09"
                }
            },
            {
                "_index": "orders",
                "_id": "OR019",
                "_score": 1.0,
                "_source": {
                    "order_id": "OR019",
                    "customer_id": "C019",
                    "order_date": "2024-04-09",
                    "status": "completed",
                    "total_amount": 180.00,
                    "items": [
                        {
                            "product_id": "P020",
                            "quantity": 6,
                            "price": 30.00
                        }
                    ],
                    "shipping_address": "1616 Pine St, Uptown, USA",
                    "payment_method": "credit_card",
                    "shipping_date": "2024-04-10",
                    "delivery_date": "2024-04-14"
                }
            }
        ]
    }
}
```

截图


![img_34.png](pictures/img_34.png)












